{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{Component}from\"react\";import{Button,ButtonGroup,ButtonToolbar,Dropdown,DropdownToggle,DropdownMenu,DropdownItem,Table,Col,Pagination,PaginationItem,Form,Input,FormGroup,Row,Container}from'reactstrap';import Highlighter from\"react-highlight-words\";import'./Navbar.css';import'bootstrap/dist/css/bootstrap.min.css';import MyPagination from\"./Pagination.js\";var BILLSSURL='https://api.empoweringknowledge.me/api/bills';var ORDER='\"order_by\":[{\"field\":\"title\",\"direction\":\"';export var EnergyBills=/*#__PURE__*/function(_Component){_inherits(EnergyBills,_Component);function EnergyBills(props){var _this;_classCallCheck(this,EnergyBills);_this=_possibleConstructorReturn(this,_getPrototypeOf(EnergyBills).call(this,props));_this.state={page:1,pages:0,nextpage:2,lastpage:1,items:[],input:\"\",isLoading:false,sortBy:\"asc\",attributes:{title:\"\",sponsor_id:\"\",committees:\"\",introduced_date:\"\",house_passage:\"\",senate_passage:\"\",cosponsors_by_party_D:\"\",cosponsors_by_party_R:\"\"},dropdownOpen:{committee:false,year:false},dropDownSelections:{\"committee\":\"None\",\"year\":\"None\"}};_this.handleTermChange=_this.handleTermChange.bind(_assertThisInitialized(_this));_this.handleSearch=_this.handleSearch.bind(_assertThisInitialized(_this));_this.handleEnter=_this.handleEnter.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handlePageClick=_this.handlePageClick.bind(_assertThisInitialized(_this));return _this;}_createClass(EnergyBills,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({isLoading:true});var url=this.buildUrl();console.log(url);fetch(url).then(function(res){return res.json();}).then(function(data){var _this2$setState;_this2.setState((_this2$setState={items:data.objects},_defineProperty(_this2$setState,\"items\",data.objects),_defineProperty(_this2$setState,\"pages\",data.total_pages),_defineProperty(_this2$setState,\"isLoading\",false),_this2$setState),function(){if(_this2.state.pages<=1)_this2.setState({nextpage:1});});}).catch(console.log);}/*\r\n * Builds the url that will be used to fetch the data.\r\n */},{key:\"buildUrl\",value:function buildUrl(){var filter=\"\";var url=\"\";filter=this.buildFilter();filter=this.buildSearch(filter);// If there aren't any filters or terms for searching, use default url\n// that displays data in ascending order\nif(filter===\"\"){url=BILLSSURL+'?q={'+ORDER+this.state.sortBy+'\"}]}&page='+this.state.page;}else{// Else, add the filters and search query\nurl=BILLSSURL+'?q={\"filters\":['+filter+'],'+ORDER+this.state.sortBy+'\"}]}&page='+this.state.page;}return url;}/*\r\n * Loops through all of the of the model's filterable attributes and checks if \r\n * there is a filter being applied. If there is, it adds that filter query to \r\n * the filter string. \r\n */},{key:\"buildFilter\",value:function buildFilter(){var filter=\"\";var keys=Object.keys(this.state.attributes);// Grabs list of attributes\nvar currAttribute=\"\";var currAttributeVal=\"\";// Only want loop through 2 attributes, committees and introduced_date,\nfor(var i=2;i<keys.length-4;i++){currAttribute=keys[i];currAttributeVal=this.state.attributes[currAttribute];if(currAttribute===\"introduced_date\"){if(currAttributeVal!==\"\"){if(filter===\"\"){filter+='{\"name\":\"'+currAttribute+'\",\"op\":\"like\",\"val\":\"'+currAttributeVal+'\\%\"}';}else{filter+=',{\"name\":\"'+currAttribute+'\",\"op\":\"like\",\"val\":\"'+currAttributeVal+'\\%\"}';}}}else if(currAttributeVal!==\"\"){if(filter===\"\"){filter+='{\"name\":\"'+currAttribute+'\",\"op\":\"like\",\"val\":\"\\%'+currAttributeVal+'\\%\"}';}else{filter+=',{\"name\":\"'+currAttribute+'\",\"op\":\"like\",\"val\":\"\\%'+currAttributeVal+'\\%\"}';}}}return filter;}/*\r\n * Loops through all of the model's attributes and adds a search query for each\r\n * term the user inputs. \r\n */},{key:\"buildSearch\",value:function buildSearch(filter){var search=\"\";var input=[];var keys=Object.keys(this.state.attributes);var currAttribute=\"\";input=this.state.input.split(\" \");// List of terms the user inputs\n// Checks if there's atleast one search term\nif(input[0]!=\"\"){// Checks if anything precedes this query\n// If something does, add a comma\nif(filter===\"\"){search='{\"or\":[';}else{search=',{\"or\":[';}// Loops through each of the attributes\nfor(var j=0;j<keys.length;j++){// Loops through each term the user inputs\nfor(var i=0;i<input.length;i++){currAttribute=keys[j];// Special case, adds comma if this is the first entry in the \n// search query \nif(currAttribute===\"title\"&&i==0)search+='{\"name\":\"'+currAttribute+'\",\"op\":\"like\",\"val\":\"\\%'+input[i]+'\\%\"}';else search+=',{\"name\":\"'+currAttribute+'\",\"op\":\"like\",\"val\":\"\\%'+input[i]+'\\%\"}';}}search+=\"]}\";filter+=search;}return filter;}/*\r\n * Returns the bill sponsor's name.\r\n */},{key:\"getName\",value:function getName(value){if(value!=null){return\"\"+value.first_name+\" \"+value.last_name;}}/*\r\n * Sets the state input variable to what the user types.\r\n */},{key:\"handleTermChange\",value:function handleTermChange(e){this.setState({input:e.target.value});}/*\r\n * Calls componentDidMount so the data that is displayed is updated.\r\n */},{key:\"handleSearch\",value:function handleSearch(){this.componentDidMount();}/*\r\n * If the user presses 'Enter', calls the handleSearch() method so that the \r\n * search is made.\r\n */},{key:\"handleEnter\",value:function handleEnter(e){if(e.key===13){this.handleSearch();}}/*\r\n * If the user clicks on the 'Submit' buttion, calls the handleSearch() \r\n * method so that the search is made.\r\n */},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();this.handleSearch();}/*\r\n * Sets the state sort variable to what the user chooses. Either 'asc' \r\n * or 'desc.' Then calls componentDidMount() so that the new data is loaded. \r\n */},{key:\"handleSorting\",value:function handleSorting(sort){var _this3=this;this.setState({sortBy:sort},function(){_this3.componentDidMount();});}/*\r\n * Updates the state attributes variable to what the user chooses for the \r\n * specified filter. Then calls componentDidMount() so that the new data \r\n * is loaded. \r\n */},{key:\"handleFilter\",value:function handleFilter(attribute,filter){var _this4=this;var newAttributes=this.state.attributes;newAttributes[attribute]=filter;this.setState({attributes:newAttributes,page:1,nextpage:2,lastpage:1},function(){_this4.componentDidMount();});}/*\r\n* Updates page variables that are used in pagination when the user clicks \r\n* on a new page number to go to. Then calls componentDidMount() so that the \r\n* new data is loaded. \r\n*/},{key:\"handlePageClick\",value:function handlePageClick(newPage){var _this5=this;if(newPage===1){this.setState({lastpage:newPage,page:newPage,nextpage:2},function(){_this5.componentDidMount();});}else if(newPage===this.state.pages){this.setState({lastpage:newPage-1,page:newPage,nextpage:newPage},function(){_this5.componentDidMount();});}else{this.setState({lastpage:newPage-1,page:newPage,nextpage:newPage+1},function(){_this5.componentDidMount();});}}/*\r\n * Resets all the attributes and variables that are used for filtering, \r\n * searching, and pagination to their default. Then calls componentDidMount() \r\n * so that the new data is loaded. \r\n */},{key:\"handleReset\",value:function handleReset(){var _this6=this;this.setState({dropDownSelections:{\"committee\":\"None\",\"year\":\"None\"},input:\"\",sortBy:\"asc\",attributes:{title:\"\",sponsor_id:\"\",committees:\"\",introduced_date:\"\",house_passage:\"\",senate_passage:\"\",cosponsors_by_party_D:\"\",cosponsors_by_party_R:\"\"},page:1,nextpage:2,lastpage:1},function(){_this6.componentDidMount();});}/*\r\n * Toggles the dropdown option for the specified filterable attribute.\r\n */},{key:\"setDropdownOpen\",value:function setDropdownOpen(attribute){var newdropdownOpen=this.state.dropdownOpen;newdropdownOpen[attribute]=!newdropdownOpen[attribute];this.setState({dropdownOpen:newdropdownOpen});}/*\r\n * Sets the title variable for the dropdown menu of the correct filter. Then\r\n * checks the attribute that was passed in. Updates variables where needed and \r\n * calls handleFilter() with the attribute name and value.\r\n */},{key:\"setDropDownTitle\",value:function setDropDownTitle(attribute,selection){var newDropDownSelections=this.state.dropDownSelections;newDropDownSelections[attribute]=selection;this.setState({dropDownSelections:newDropDownSelections});if(selection===\"None\"){selection=\"\";}if(attribute===\"committee\")this.handleFilter(\"committees\",selection);else if(attribute===\"year\")this.handleFilter(\"introduced_date\",selection);}/* \r\n * Renders the button group for filters.\r\n */},{key:\"renderFilterButtonGroup\",value:function renderFilterButtonGroup(attribute,filterOptions,filterTitles){var _this7=this;return React.createElement(Dropdown,{isOpen:this.state.dropdownOpen[attribute],toggle:function toggle(){return _this7.setDropdownOpen(attribute);}},React.createElement(DropdownToggle,{caret:true},\"Filter by \",filterTitles[attribute],\": \",this.state.dropDownSelections[attribute]),React.createElement(DropdownMenu,{modifiers:{setMaxHeight:{enabled:true,order:890,fn:function fn(data){return _objectSpread({},data,{styles:_objectSpread({},data.styles,{overflow:'auto',maxHeight:150})});}}}},filterOptions[attribute].map(function(selection){return React.createElement(DropdownItem,{onClick:function onClick(){return _this7.setDropDownTitle(attribute,selection);}},selection);})),' ');}/*\r\n * Renders the buttons for filters and sorting.\r\n */},{key:\"renderTop\",value:function renderTop(){var _this8=this;// Lists of all of the options for filtering for each attribute\nvar filterOptions={committee:[\"None\",\"Agriculture\",\"Appropriations\",\"Armed Services\",\"Budget\",\"Banking\",\"Education\",\"Energy\",\"Ethics\",\"Financial Services\",\"Foreign\",\"Homeland Security\",\"Administration\",\"Judiciary\",\"Natural Resources\",\"Oversight and Reform\",\"Rules\",\"Administration\",\"Science\",\"Small Business\",\"Transportation\",\"Veterans' Affairs\",\"Ways and Means\",\"Judiciary\",\"Natural Resources\"],year:[\"None\",\"1993\",\"1994\",\"1995\",\"1996\",\"1997\",\"1998\",\"1999\",\"2000\",\"2001\",\"2002\",\"2003\",\"2004\",\"2005\",\"2006\",\"2007\",\"2008\",\"2009\",\"2010\",\"2011\",\"2012\",\"2013\",\"2014\",\"2015\",\"2017\",\"2018\",\"2019\"]};// Titles for the filter buttons, \"Filter by: _____\"\nvar filterTitles={committee:\"Committee\",year:\"Year\"};// Grabs list of filterable attributes\nvar attributesList=Object.keys(filterOptions);return React.createElement(\"container\",null,React.createElement(Row,null,React.createElement(Col,{className:\"text-left\"},React.createElement(ButtonGroup,null,// Renders all the filter buttons\nattributesList.map(function(attribute){return _this8.renderFilterButtonGroup(attribute,filterOptions,filterTitles);}),React.createElement(Button,{onClick:function onClick(){return _this8.handleReset();}},\"Reset\"),' ')),React.createElement(Col,{className:\"text-right\"},React.createElement(Button,{color:\"primary\",onClick:function onClick(){return _this8.handleSorting(\"asc\");}},\"Ascending\"),' ',React.createElement(Button,{color:\"secondary\",onClick:function onClick(){return _this8.handleSorting(\"desc\");}},\"Descending\"),' ')),React.createElement(Form,{className:\"searchbox\",onSubmit:this.handleSubmit},React.createElement(FormGroup,{row:true,style:{paddingTop:\"25px\"}},React.createElement(Col,{sm:{size:'auto',offset:5}},React.createElement(Input,{type:\"text\",placeholder:\"Search\",onChange:this.handleTermChange,onKeyDown:this.handleEnter})))));}/*\r\n * Renders the body of a card item.\r\n */},{key:\"renderAttribute\",value:function renderAttribute(item,attribute){// Special case, if the attribute is \"title\", add a link to the bill\nif(attribute===\"title\"){return React.createElement(\"td\",null,React.createElement(\"a\",{href:\"/bill/\"+item.bill_id,to:\"/bill/\"+item.bill_id},React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:this.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.title})));}// Special case, if the attribute is \"sponsor_id\", add a link to the sponsor\nelse if(attribute===\"sponsor_id\"){return React.createElement(\"td\",null,React.createElement(\"a\",{href:\"/politician/\"+item.sponsor_id,to:\"/politician/\"+item.sponsor_id},React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:this.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+this.getName(item.sponsor_rs)})));}return React.createElement(\"td\",null,\" \",React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:this.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item[attribute]}));}/*\r\n * Creates the rows for the table. Loops through all of the attributes and calls\r\n * renderAttribute() so each attribute is rendered. \r\n */},{key:\"renderRows\",value:function renderRows(item){var _this9=this;var rowAttributes=[];// Will hold all of the rendered attributes\nvar attributeList=Object.keys(this.state.attributes);// Loop through attributes and render each of them\nattributeList.map(function(attribute){return rowAttributes.push(_this9.renderAttribute(item,attribute));});return React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"row\"}),rowAttributes);}/*\r\n * Renders rows for the energy bils.\r\n */},{key:\"renderTable\",value:function renderTable(){var _this10=this;var items=this.state.items;return React.createElement(Table,{hover:true,responsive:true},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null),React.createElement(\"th\",null,\"Title\"),React.createElement(\"th\",null,\"Sponsor\"),React.createElement(\"th\",null,\"Committees\"),React.createElement(\"th\",null,\"Introduced Date\"),React.createElement(\"th\",null,\"House Passage\"),React.createElement(\"th\",null,\"Senate Passage\"),React.createElement(\"th\",null,\"Democrat Cosponsors\"),React.createElement(\"th\",null,\"Republican Cosponsors\"))),React.createElement(\"tbody\",null,items.map(function(item){return _this10.renderRows(item);})));}/*\r\n * Renders the entire page.\r\n */},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"div\",null,this.renderTop()),React.createElement(\"div\",{className:\"EnergyBills\",style:{paddingTop:\"25px\",width:\"100%\",height:\"60%\"}},React.createElement(\"h4\",{style:{paddingBottom:\"25px\"}},\"Energy Bills\"),React.createElement(\"div\",null,React.createElement(Col,{sm:{size:'auto'}},this.renderTable())),React.createElement(\"div\",null,React.createElement(MyPagination,{pages:this.state.pages,handlePageClick:this.handlePageClick,nextpage:this.state.nextpage,lastpage:this.state.lastpage,page:this.state.page}))));}}]);return EnergyBills;}(Component);export default EnergyBills;","map":{"version":3,"sources":["C:\\Users\\Edwin\\Documents\\College\\CS_373\\cs373-web\\frontend\\empoweringknowledge\\src\\EnergyBills.js"],"names":["React","Component","Button","ButtonGroup","ButtonToolbar","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","Table","Col","Pagination","PaginationItem","Form","Input","FormGroup","Row","Container","Highlighter","MyPagination","BILLSSURL","ORDER","EnergyBills","props","state","page","pages","nextpage","lastpage","items","input","isLoading","sortBy","attributes","title","sponsor_id","committees","introduced_date","house_passage","senate_passage","cosponsors_by_party_D","cosponsors_by_party_R","dropdownOpen","committee","year","dropDownSelections","handleTermChange","bind","handleSearch","handleEnter","handleSubmit","handlePageClick","setState","url","buildUrl","console","log","fetch","then","res","json","data","objects","total_pages","catch","filter","buildFilter","buildSearch","keys","Object","currAttribute","currAttributeVal","i","length","search","split","j","value","first_name","last_name","e","target","componentDidMount","key","preventDefault","sort","attribute","newAttributes","newPage","newdropdownOpen","selection","newDropDownSelections","handleFilter","filterOptions","filterTitles","setDropdownOpen","setMaxHeight","enabled","order","fn","styles","overflow","maxHeight","map","setDropDownTitle","attributesList","renderFilterButtonGroup","handleReset","handleSorting","paddingTop","size","offset","item","bill_id","getName","sponsor_rs","rowAttributes","attributeList","push","renderAttribute","renderRows","renderTop","width","height","paddingBottom","renderTable"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {\r\n    Button, ButtonGroup, ButtonToolbar, Dropdown, DropdownToggle, \r\n    DropdownMenu, DropdownItem, Table, Col, Pagination, PaginationItem, Form, \r\n    Input, FormGroup, Row, Container\r\n     } from 'reactstrap';\r\nimport Highlighter from \"react-highlight-words\";\r\nimport './Navbar.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport MyPagination from \"./Pagination.js\";\r\n\r\nconst BILLSSURL = 'https://api.empoweringknowledge.me/api/bills';\r\nconst ORDER = '\"order_by\":[{\"field\":\"title\",\"direction\":\"';\r\n\r\nexport class EnergyBills extends Component {\r\n\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        page: 1,\r\n\t\tpages: 0,\r\n\t\tnextpage: 2,\r\n\t\tlastpage: 1,\r\n        items: [],\r\n        input:\"\",\r\n        isLoading: false,\r\n        sortBy: \"asc\",\r\n        attributes: {\r\n            title: \"\",\r\n            sponsor_id: \"\",\r\n            committees: \"\", \r\n            introduced_date: \"\",\r\n            house_passage: \"\",\r\n            senate_passage: \"\",\r\n            cosponsors_by_party_D: \"\",\r\n            cosponsors_by_party_R: \"\"},\r\n        dropdownOpen: {\r\n            committee: false, \r\n            year: false},\r\n        dropDownSelections: {\r\n            \"committee\": \"None\", \r\n            \"year\":\"None\"}\r\n    }\r\n    this.handleTermChange = this.handleTermChange.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\tthis.handlePageClick = this.handlePageClick.bind(this);\r\n    \r\n}\r\n\r\ncomponentDidMount() {\r\n    this.setState({isLoading: true});\r\n\r\n    var url = this.buildUrl();\r\n    console.log(url);\r\n    fetch(url)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ items: data.objects, items: data.objects, \r\n                pages:data.total_pages,isLoading: false}, () => {\r\n                if(this.state.pages <= 1)\r\n                    this.setState({nextpage: 1})    \r\n            });      \r\n        })\r\n        .catch(console.log);\r\n}\r\n\r\n/*\r\n * Builds the url that will be used to fetch the data.\r\n */\r\nbuildUrl(){\r\n    var filter = \"\";\r\n    var url = \"\";\r\n    \r\n    filter = this.buildFilter();\r\n    filter = this.buildSearch(filter);\r\n    \r\n    // If there aren't any filters or terms for searching, use default url\r\n    // that displays data in ascending order\r\n    if(filter === \"\"){\r\n        url = BILLSSURL + '?q={'\r\n        + ORDER \r\n        + this.state.sortBy \r\n        + '\"}]}&page='\r\n        + this.state.page;\r\n    } else{ // Else, add the filters and search query\r\n        url = BILLSSURL + '?q={\"filters\":['\r\n        + filter\r\n        + '],'\r\n        + ORDER\r\n        + this.state.sortBy \r\n        + '\"}]}&page='\r\n        + this.state.page;\r\n    }\r\n\r\n    return url;\r\n}\r\n\r\n/*\r\n * Loops through all of the of the model's filterable attributes and checks if \r\n * there is a filter being applied. If there is, it adds that filter query to \r\n * the filter string. \r\n */\r\nbuildFilter(){\r\n    var filter = \"\";\r\n    var keys = Object.keys(this.state.attributes); // Grabs list of attributes\r\n    var currAttribute = \"\";\r\n    var currAttributeVal = \"\";\r\n\r\n    // Only want loop through 2 attributes, committees and introduced_date,\r\n    for(var i = 2; i < keys.length - 4; i++){\r\n        currAttribute = keys[i];\r\n        currAttributeVal = this.state.attributes[currAttribute];\r\n\r\n        if(currAttribute === \"introduced_date\"){\r\n            if(currAttributeVal !== \"\"){\r\n                if(filter === \"\"){\r\n                    filter += '{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"'+ currAttributeVal +'\\%\"}'\r\n                }else{\r\n                    filter += ',{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"'+ currAttributeVal +'\\%\"}'\r\n                }\r\n            }   \r\n        }\r\n\r\n        else if (currAttributeVal !== \"\"){\r\n            if(filter === \"\"){\r\n                filter += '{\"name\":\"' + currAttribute \r\n                    + '\",\"op\":\"like\",\"val\":\"\\%'+ currAttributeVal +'\\%\"}'\r\n            }else{\r\n                filter += ',{\"name\":\"' + currAttribute \r\n                    + '\",\"op\":\"like\",\"val\":\"\\%'+ currAttributeVal +'\\%\"}'\r\n            }\r\n        }\r\n    }\r\n\r\n    return filter;\r\n}\r\n\r\n/*\r\n * Loops through all of the model's attributes and adds a search query for each\r\n * term the user inputs. \r\n */\r\nbuildSearch(filter){\r\n    var search = \"\";\r\n    var input = [];\r\n    var keys = Object.keys(this.state.attributes);\r\n    var currAttribute = \"\";\r\n\r\n    input = this.state.input.split(\" \"); // List of terms the user inputs\r\n\r\n    // Checks if there's atleast one search term\r\n    if(input[0] != \"\"){\r\n        // Checks if anything precedes this query\r\n        // If something does, add a comma\r\n        if(filter === \"\"){ \r\n            search = '{\"or\":['\r\n        }\r\n        else{\r\n            search = ',{\"or\":['\r\n        }\r\n\r\n        // Loops through each of the attributes\r\n        for(var j = 0; j < keys.length; j++){\r\n            // Loops through each term the user inputs\r\n            for(var i = 0; i < input.length; i++){\r\n                currAttribute = keys[j]\r\n                // Special case, adds comma if this is the first entry in the \r\n                // search query \r\n                if(currAttribute === \"title\" && i == 0)\r\n                    search += '{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"\\%'+ input[i] +'\\%\"}'\r\n                else\r\n                    search += ',{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"\\%'+ input[i] +'\\%\"}'\r\n            }\r\n        }\r\n\r\n        search += \"]}\";\r\n        filter += search;\r\n    }\r\n\r\n    return filter;\r\n}\r\n\r\n/*\r\n * Returns the bill sponsor's name.\r\n */ \r\ngetName(value){\r\n  if(value != null){\r\n      return (\"\" + value.first_name + \" \" + value.last_name)\r\n  }\r\n}\r\n\r\n/*\r\n * Sets the state input variable to what the user types.\r\n */\r\nhandleTermChange(e) {\r\n    this.setState({ input: e.target.value });\r\n}\r\n\r\n/*\r\n * Calls componentDidMount so the data that is displayed is updated.\r\n */\r\nhandleSearch() {\r\n  this.componentDidMount();\r\n}\r\n\r\n/*\r\n * If the user presses 'Enter', calls the handleSearch() method so that the \r\n * search is made.\r\n */\r\nhandleEnter(e) {    \r\n    if (e.key === 13) {\r\n    this.handleSearch();\r\n    }\r\n}\r\n\r\n/*\r\n * If the user clicks on the 'Submit' buttion, calls the handleSearch() \r\n * method so that the search is made.\r\n */\r\nhandleSubmit(e) {\r\n    e.preventDefault();\r\n    this.handleSearch();\r\n}\r\n    \r\n/*\r\n * Sets the state sort variable to what the user chooses. Either 'asc' \r\n * or 'desc.' Then calls componentDidMount() so that the new data is loaded. \r\n */\r\nhandleSorting(sort){\r\n    this.setState({sortBy: sort}, () => {\r\n      this.componentDidMount();\r\n    });\r\n}\r\n\r\n/*\r\n * Updates the state attributes variable to what the user chooses for the \r\n * specified filter. Then calls componentDidMount() so that the new data \r\n * is loaded. \r\n */\r\nhandleFilter(attribute, filter){\r\n    var newAttributes = this.state.attributes;\r\n    newAttributes[attribute] = filter;\r\n\r\n    this.setState({attributes: newAttributes, page: 1, \r\n                   nextpage: 2, lastpage: 1}, () =>{\r\n    this.componentDidMount();\r\n    });\r\n}\r\n\r\n/*\r\n* Updates page variables that are used in pagination when the user clicks \r\n* on a new page number to go to. Then calls componentDidMount() so that the \r\n* new data is loaded. \r\n*/\r\nhandlePageClick(newPage){\r\n\tif(newPage === 1){\r\n\t\tthis.setState({lastpage: newPage, page: newPage, nextpage: 2}, () => {\r\n\t\t\tthis.componentDidMount();\r\n\t\t});\r\n\t}\r\n\telse if(newPage === this.state.pages){\r\n\t\tthis.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage}, () => {\r\n\t\t\tthis.componentDidMount();\r\n\t\t});\r\n\t}\r\n\telse{\r\n\t\tthis.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage + 1}, () => {\r\n\t\t\tthis.componentDidMount();\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/*\r\n * Resets all the attributes and variables that are used for filtering, \r\n * searching, and pagination to their default. Then calls componentDidMount() \r\n * so that the new data is loaded. \r\n */\r\nhandleReset(){\r\n    this.setState({\r\n        dropDownSelections: {\r\n            \"committee\":\"None\", \r\n            \"year\": \"None\"}, \r\n        input: \"\", \r\n        sortBy: \"asc\",\r\n        attributes: {\r\n            title: \"\",\r\n            sponsor_id: \"\",\r\n            committees: \"\", \r\n            introduced_date: \"\",\r\n            house_passage: \"\",\r\n            senate_passage: \"\",\r\n            cosponsors_by_party_D: \"\",\r\n            cosponsors_by_party_R: \"\"},\r\n        page: 1, \r\n        nextpage: 2, \r\n        lastpage: 1}, () =>{\r\n      this.componentDidMount();\r\n    });\r\n}\r\n\r\n/*\r\n * Toggles the dropdown option for the specified filterable attribute.\r\n */\r\nsetDropdownOpen(attribute){\r\n    var newdropdownOpen = this.state.dropdownOpen;\r\n    newdropdownOpen[attribute] = !newdropdownOpen[attribute];\r\n\r\n    this.setState({dropdownOpen: newdropdownOpen});\r\n}\r\n\r\n/*\r\n * Sets the title variable for the dropdown menu of the correct filter. Then\r\n * checks the attribute that was passed in. Updates variables where needed and \r\n * calls handleFilter() with the attribute name and value.\r\n */\r\nsetDropDownTitle(attribute, selection){\r\n    var newDropDownSelections = this.state.dropDownSelections;\r\n    newDropDownSelections[attribute] = selection;\r\n    \r\n    this.setState({dropDownSelections: newDropDownSelections});\r\n    \r\n    if(selection === \"None\"){\r\n        selection = \"\";\r\n    }\r\n\r\n    if(attribute === \"committee\")\r\n        this.handleFilter(\"committees\", selection);\r\n\r\n    else if(attribute === \"year\")\r\n        this.handleFilter(\"introduced_date\", selection);\r\n}\r\n\r\n/* \r\n * Renders the button group for filters.\r\n */\r\nrenderFilterButtonGroup(attribute, filterOptions, filterTitles){ \r\n    return (\r\n    <Dropdown isOpen={this.state.dropdownOpen[attribute]} toggle={() => this.setDropdownOpen(attribute)}>\r\n        <DropdownToggle caret>\r\n            Filter by {filterTitles[attribute]}: {this.state.dropDownSelections[attribute]}\r\n        </DropdownToggle>\r\n        <DropdownMenu \r\n            modifiers={{\r\n                setMaxHeight: {\r\n                    enabled: true,\r\n                    order: 890,\r\n                    fn: (data) => {\r\n                      return {\r\n                        ...data,\r\n                        styles: {\r\n                          ...data.styles,\r\n                          overflow: 'auto',\r\n                          maxHeight: 150,\r\n                        },\r\n                      };\r\n                    },\r\n                },\r\n            }}>{\r\n                filterOptions[attribute].map((selection) =>\r\n                    <DropdownItem onClick={() => this.setDropDownTitle(attribute, selection)}>{selection}</DropdownItem>\r\n                )\r\n            }\r\n        </DropdownMenu>{' '}\r\n    </Dropdown>\r\n    )\r\n}\r\n\r\n/*\r\n * Renders the buttons for filters and sorting.\r\n */\r\nrenderTop(){\r\n    // Lists of all of the options for filtering for each attribute\r\n    var filterOptions = {\r\n        committee: [\r\n            \"None\", \"Agriculture\",\"Appropriations\", \"Armed Services\", \"Budget\",\r\n            \"Banking\", \"Education\", \"Energy\", \"Ethics\", \"Financial Services\",\r\n            \"Foreign\", \"Homeland Security\", \"Administration\", \"Judiciary\",\r\n            \"Natural Resources\", \"Oversight and Reform\", \"Rules\", \r\n            \"Administration\", \"Science\", \"Small Business\", \"Transportation\", \r\n            \"Veterans' Affairs\", \"Ways and Means\", \"Judiciary\", \r\n            \"Natural Resources\"],\r\n        year: [\r\n            \"None\", \"1993\", \"1994\", \"1995\", \"1996\", \"1997\", \"1998\", \"1999\", \r\n            \"2000\", \"2001\", \"2002\", \"2003\", \"2004\", \"2005\", \"2006\", \"2007\",\r\n            \"2008\", \"2009\", \"2010\", \"2011\", \"2012\", \"2013\", \"2014\", \"2015\",\r\n            \"2017\", \"2018\",\"2019\"]\r\n    }\r\n\r\n    // Titles for the filter buttons, \"Filter by: _____\"\r\n    var filterTitles = {\r\n        committee: \"Committee\",\r\n        year: \"Year\",\r\n    }\r\n\r\n    // Grabs list of filterable attributes\r\n    var attributesList = Object.keys(filterOptions);\r\n\r\n    return(\r\n        <container>\r\n            <Row>\r\n                <Col className=\"text-left\">\r\n                    <ButtonGroup>{\r\n                            // Renders all the filter buttons\r\n                            attributesList.map((attribute) => \r\n                                this.renderFilterButtonGroup(attribute, filterOptions, filterTitles))         \r\n                        }\r\n                        <Button onClick={() => this.handleReset()}>Reset</Button>{' '}\r\n                    </ButtonGroup>\r\n                </Col>\r\n                <Col className=\"text-right\">\r\n                    <Button color=\"primary\" onClick={() => this.handleSorting(\"asc\")}>Ascending</Button>{' '}\r\n                    <Button color=\"secondary\"onClick={() => this.handleSorting(\"desc\")}>Descending</Button>{' '}\r\n                </Col>\r\n            </Row>\r\n            <Form className=\"searchbox\" onSubmit={this.handleSubmit}>\r\n                <FormGroup row style={{paddingTop: \"25px\"}}>\r\n                    <Col sm={{ size: 'auto', offset: 5 }}>\r\n                        <Input\r\n                            type=\"text\"\r\n                            placeholder=\"Search\"\r\n                            onChange={this.handleTermChange}\r\n                            onKeyDown={this.handleEnter}\r\n                        />\r\n                    </Col>\r\n                </FormGroup>\r\n            </Form>\r\n\r\n        </container>\r\n    );\r\n}\r\n\r\n/*\r\n * Renders the body of a card item.\r\n */\r\n renderAttribute(item, attribute){\r\n    \r\n    // Special case, if the attribute is \"title\", add a link to the bill\r\n    if(attribute === \"title\"){\r\n        return(\r\n            <td> \r\n                <a href= {\"/bill/\" + item.bill_id}   to={\"/bill/\" \r\n                    + item.bill_id}><Highlighter\r\n                        highlightClassName=\"HighlightClass\"\r\n                        searchWords={this.state.input.split(\" \")}\r\n                        autoEscape={true}\r\n                        textToHighlight={\"\" + item.title}/></a>\r\n            </td>\r\n        )\r\n    }\r\n\r\n    // Special case, if the attribute is \"sponsor_id\", add a link to the sponsor\r\n    else if(attribute === \"sponsor_id\"){\r\n        return(\r\n            <td>\r\n                 <a href= {\"/politician/\" + item.sponsor_id}   to={\"/politician/\"\r\n                     + item.sponsor_id}><Highlighter\r\n                        highlightClassName=\"HighlightClass\"\r\n                        searchWords={this.state.input.split(\" \")}\r\n                        autoEscape={true}\r\n                        textToHighlight={\"\" + this.getName(item.sponsor_rs)}/></a></td>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <td> <Highlighter\r\n                highlightClassName=\"HighlightClass\"\r\n                searchWords={this.state.input.split(\" \")}\r\n                autoEscape={true}\r\n                textToHighlight={\"\" + item[attribute]}/>\r\n        </td>\r\n    )\r\n }\r\n\r\n/*\r\n * Creates the rows for the table. Loops through all of the attributes and calls\r\n * renderAttribute() so each attribute is rendered. \r\n */\r\nrenderRows(item){\r\n    var rowAttributes = []; // Will hold all of the rendered attributes\r\n    var attributeList = Object.keys(this.state.attributes);\r\n   \r\n    // Loop through attributes and render each of them\r\n    attributeList.map(attribute => rowAttributes.push(this.renderAttribute(item, attribute)));\r\n\r\n    return (\r\n        <tr>\r\n            <th scope=\"row\"></th>\r\n            {rowAttributes}\r\n        </tr>\r\n    );\r\n}\r\n\r\n/*\r\n * Renders rows for the energy bils.\r\n */\r\nrenderTable(){\r\n    const items = this.state.items;\r\n\r\n    return(\r\n        <Table hover responsive>\r\n            <thead>\r\n            <tr>\r\n                <th></th>\r\n                <th>Title</th>\r\n                <th>Sponsor</th>\r\n                <th>Committees</th>\r\n                <th>Introduced Date</th>\r\n                <th>House Passage</th>\r\n                <th>Senate Passage</th>\r\n                <th>Democrat Cosponsors</th>\r\n                <th>Republican Cosponsors</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n                {items.map(item => this.renderRows(item))}\r\n            </tbody>\r\n\r\n        </Table>\r\n    )\r\n}\r\n\r\n/*\r\n * Renders the entire page.\r\n */\r\nrender() {\r\n    return (\r\n        <div>\r\n            <div>\r\n                {this.renderTop()}\r\n            </div>\r\n            <div className=\"EnergyBills\" style={{\r\n                    paddingTop: \"25px\",\r\n                    width:\"100%\", \r\n                    height:\"60%\"}}>\r\n                <h4 style={{paddingBottom: \"25px\"}}>Energy Bills</h4>\r\n                <div>\r\n                    <Col sm={{ size: 'auto'}}>\r\n                        {this.renderTable()}\r\n                    </Col>\r\n                </div>\r\n                <div>\r\n                    <MyPagination \r\n                        pages = {this.state.pages} \r\n                        handlePageClick = {this.handlePageClick}\r\n                        nextpage = {this.state.nextpage} \r\n                        lastpage = {this.state.lastpage}\r\n                        page = {this.state.page}/> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n}\r\n\r\nexport default EnergyBills;"]},"metadata":{},"sourceType":"module"}