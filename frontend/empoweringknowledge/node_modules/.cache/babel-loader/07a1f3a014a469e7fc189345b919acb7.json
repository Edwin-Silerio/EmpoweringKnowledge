{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import'bootstrap/dist/css/bootstrap.min.css';import{ListGroup,ListGroupItem,ListGroupItemHeading,ListGroupItemText}from'reactstrap';export var StatesInstance=/*#__PURE__*/function(_Component){_inherits(StatesInstance,_Component);function StatesInstance(props){var _this;_classCallCheck(this,StatesInstance);_this=_possibleConstructorReturn(this,_getPrototypeOf(StatesInstance).call(this,props));_this.state={items:[],isLoading:false,values:[],bill:{},energy:[],bills:[],map:{\"Alabama\":\"al\",\"Alaska\":\"ak\",\"Arizona\":\"az\",\"Arkansas\":\"ar\",\"California\":\"ca\",\"Colorado\":\"co\",\"Connecticut\":\"ct\",\"Delaware\":\"de\",\"Florida\":\"fl\",\"Georgia\":\"ga\",\"Hawaii\":\"hi\",\"Idaho\":\"id\",\"Illinois\":\"il\",\"Indiana\":\"in\",\"Iowa\":\"ia\",\"Kansas\":\"ks\",\"Kentucky\":\"ky\",\"Louisiana\":\"la\",\"Maine\":\"me\",\"Maryland\":\"md\",\"Massachusetts\":\"ma\",\"Michigan\":\"mi\",\"Minnesota\":\"mn\",\"Mississippi\":\"ms\",\"Missouri\":\"mo\",\"Montana\":\"mt\",\"Nebraska\":\"ne\",\"Nevada\":\"nv\",\"New Hampshire\":\"nh\",\"New Jersey\":\"nj\",\"New Mexico\":\"nm\",\"New York\":\"ny\",\"North Carolina\":\"nc\",\"North Dakota\":\"nd\",\"Ohio\":\"oh\",\"Oklahoma\":\"ok\",\"Oregon\":\"or\",\"Pennsylvania\":\"pa\",\"Rhode Island\":\"ri\",\"South Carolina\":\"sc\",\"South Dakota\":\"sd\",\"Tennessee\":\"tn\",\"Texas\":\"tx\",\"Utah\":\"ut\",\"Vermont\":\"vt\",\"Virginia\":\"va\",\"Washington\":\"wa\",\"West Virginia\":\"wv\",\"Wisconsin\":\"wi\",\"Wyoming\":\"wy\"}};return _this;}_createClass(StatesInstance,[{key:\"toLowerCase\",value:function toLowerCase(value){if(value!=null){return value.toLowerCase();}}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var value=window.location.href.split(\"/\");var path=value[4];console.log('https://dm5v6ty0dwipl.cloudfront.net/api/congressmembers?q={\"filters\":[{\"name\":\"state\",\"op\":\"eq\",\"val\":\"'+this.state.map[path]+'\"}]}');this.setState({isLoading:true});fetch('https://dm5v6ty0dwipl.cloudfront.net/api/states/'+path).then(function(res){return res.json();}).then(function(data){_this2.setState({items:data,isLoading:false});}).catch(console.log);console.log(path);fetch('https://dm5v6ty0dwipl.cloudfront.net/api/congressmembers?q={\"filters\":[{\"name\":\"state\",\"op\":\"eq\",\"val\":\"'+this.state.map[path]+'\"}]}').then(function(res){return res.json();}).then(function(data){_this2.setState({values:data.objects,isLoading:false});}).catch(console.log);// console.log('api.empoweringknowledge.me/api/coal?q={\"filters\":[{\"name\":\"state_name\",\"op\":\"eq\",\"val\":\"'+ path + '\"}]}')\n// fetch('api.empoweringknowledge.me/api/coal?q={\"filters\":[{\"name\":\"state_name\",\"op\":\"eq\",\"val\":\"'+ path + '\"}]}')\n// .then(res => res.json())\n// .then((data) => {\n//     this.setState({ energy: data.objects,isLoading: false});      \n// })\n// .catch(console.log)\n}},{key:\"getbills\",value:function getbills(id){var _this3=this;fetch('https://dm5v6ty0dwipl.cloudfront.net/api/bills?q={\"filters\":[{\"name\":\"sponsor_id\",\"op\":\"eq\",\"val\":\"'+id+'\"}]}').then(function(res){return res.json();}).then(function(data){_this3.setState({bills:data.objects,isLoading:false});});}},{key:\"render\",value:function render(){var _this$state=this.state,items=_this$state.items,isLoading=_this$state.isLoading,values=_this$state.values,bills=_this$state.bills,bill=_this$state.bill,energy=_this$state.energy;var joined;var stateMap={\"Alabama\":\"al\",\"Alaska\":\"ak\",\"Arizona\":\"az\",\"Arkansas\":\"ar\",\"California\":\"ca\",\"Colorado\":\"co\",\"Connecticut\":\"ct\",\"Delaware\":\"de\",\"Florida\":\"fl\",\"Georgia\":\"ga\",\"Hawaii\":\"hi\",\"Idaho\":\"id\",\"Illinois\":\"il\",\"Indiana\":\"in\",\"Iowa\":\"ia\",\"Kansas\":\"ks\",\"Kentucky\":\"ky\",\"Louisiana\":\"la\",\"Maine\":\"me\",\"Maryland\":\"md\",\"Massachusetts\":\"ma\",\"Michigan\":\"mi\",\"Minnesota\":\"mn\",\"Mississippi\":\"ms\",\"Missouri\":\"mo\",\"Montana\":\"mt\",\"Nebraska\":\"ne\",\"Nevada\":\"nv\",\"New Hampshire\":\"nh\",\"New Jersey\":\"nj\",\"New Mexico\":\"nm\",\"New York\":\"ny\",\"North Carolina\":\"nc\",\"North Dakota\":\"nd\",\"Ohio\":\"oh\",\"Oklahoma\":\"ok\",\"Oregon\":\"or\",\"Pennsylvania\":\"pa\",\"Rhode Island\":\"ri\",\"South Carolina\":\"sc\",\"South Dakota\":\"sd\",\"Tennessee\":\"tn\",\"Texas\":\"tx\",\"Utah\":\"ut\",\"Vermont\":\"vt\",\"Virginia\":\"va\",\"Washington\":\"wa\",\"West Virginia\":\"wv\",\"Wisconsin\":\"wi\",\"Wyoming\":\"wy\"};if(isLoading){return false;}console.log(energy);if(values===null){return true;}return React.createElement(\"div\",{center:true,className:\"StatesInstance\",style:{paddingLeft:'3%',textAlign:'center',color:'#000000'}},React.createElement(\"img\",{top:true,width:\"80%\",style:{width:'300px',height:'375px'},src:\"https://www.state-maps.org/\"+stateMap[items.name]+\".gif\",alt:\"No image\"}),React.createElement(\"h2\",{style:{paddingTop:\"3%\",color:'#000000'}},\" \",items.name,\" \"),React.createElement(\"center\",null,React.createElement(ListGroup,{style:{paddingTop:'1%',paddingLeft:'3%',textAlign:'center',color:'#000000',width:'50%'}},React.createElement(ListGroupItem,null,React.createElement(ListGroupItemHeading,null,\"Population\"),React.createElement(ListGroupItemText,null,items.population)),React.createElement(ListGroupItem,null,React.createElement(ListGroupItemHeading,null,\"Median Income\"),React.createElement(ListGroupItemText,null,items.median_hh_income)),React.createElement(ListGroupItem,null,React.createElement(ListGroupItemHeading,null,\"Past/Present Representatives\"),values.slice(0,5).map(function(value){return React.createElement(ListGroupItemText,null,React.createElement(\"a\",{href:\"/politician/\"+value.member_id,to:\"/politician/\"+value.member_id},value.member_id));})),React.createElement(ListGroupItem,null,React.createElement(ListGroupItemHeading,null,\"Energy Use\"),React.createElement(ListGroupItemText,null,\"Coal: \",energy.data_2017)),React.createElement(ListGroupItem,null,React.createElement(ListGroupItemHeading,null,\"Bills Sponsored By State Representatives\"),console.log(bill)))));}}]);return StatesInstance;}(Component);export default StatesInstance;","map":{"version":3,"sources":["C:\\Users\\Edwin\\Documents\\College\\CS_373\\cs373-web\\frontend\\empoweringknowledge\\src\\StatesInstance.js"],"names":["React","Component","ListGroup","ListGroupItem","ListGroupItemHeading","ListGroupItemText","StatesInstance","props","state","items","isLoading","values","bill","energy","bills","map","value","toLowerCase","window","location","href","split","path","console","log","setState","fetch","then","res","json","data","catch","objects","id","joined","stateMap","paddingLeft","textAlign","color","width","height","name","paddingTop","population","median_hh_income","slice","member_id","data_2017"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport {\r\n    ListGroup, ListGroupItem, ListGroupItemHeading, ListGroupItemText\r\n    } from 'reactstrap';\r\n\r\nexport class StatesInstance extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        items: [],\r\n        isLoading: false,\r\n        values: [],\r\n        bill: {},\r\n        energy: [],\r\n        bills: [],\r\n        map: {\r\n          \"Alabama\":\"al\",\r\n          \"Alaska\":\"ak\",\r\n          \"Arizona\":\"az\",\r\n          \"Arkansas\":\"ar\",\r\n          \"California\":\"ca\",\r\n          \"Colorado\":\"co\",\r\n          \"Connecticut\":\"ct\",\r\n          \"Delaware\":\"de\",\r\n          \"Florida\":\"fl\",\r\n          \"Georgia\":\"ga\",\r\n          \"Hawaii\":\"hi\",\r\n          \"Idaho\":\"id\",\r\n          \"Illinois\":\"il\",\r\n          \"Indiana\":\"in\",\r\n          \"Iowa\":\"ia\",\r\n          \"Kansas\":\"ks\",\r\n          \"Kentucky\":\"ky\",\r\n          \"Louisiana\":\"la\",\r\n          \"Maine\":\"me\",\r\n          \"Maryland\":\"md\",\r\n          \"Massachusetts\":\"ma\",\r\n          \"Michigan\":\"mi\",\r\n          \"Minnesota\":\"mn\",\r\n          \"Mississippi\":\"ms\",\r\n          \"Missouri\":\"mo\",\r\n          \"Montana\":\"mt\",\r\n          \"Nebraska\":\"ne\",\r\n          \"Nevada\":\"nv\",\r\n          \"New Hampshire\":\"nh\",\r\n          \"New Jersey\":\"nj\",\r\n          \"New Mexico\":\"nm\",\r\n          \"New York\":\"ny\",\r\n          \"North Carolina\":\"nc\",\r\n          \"North Dakota\":\"nd\",\r\n          \"Ohio\":\"oh\",\r\n          \"Oklahoma\":\"ok\",\r\n          \"Oregon\":\"or\",\r\n          \"Pennsylvania\":\"pa\",\r\n          \"Rhode Island\":\"ri\",\r\n          \"South Carolina\":\"sc\",\r\n          \"South Dakota\":\"sd\",\r\n          \"Tennessee\":\"tn\",\r\n          \"Texas\":\"tx\",\r\n          \"Utah\":\"ut\",\r\n          \"Vermont\":\"vt\",\r\n          \"Virginia\":\"va\",\r\n          \"Washington\":\"wa\",\r\n          \"West Virginia\":\"wv\",\r\n          \"Wisconsin\":\"wi\",\r\n          \"Wyoming\":\"wy\",\r\n        },\r\n        \r\n    }\r\n    \r\n    \r\n}\r\ntoLowerCase(value){\r\n    if(value != null){\r\n      return value.toLowerCase();  \r\n    }\r\n}\r\ncomponentDidMount() {\r\n    var value = window.location.href.split(\"/\")\r\n    var path = (value[4])\r\n    console.log('https://dm5v6ty0dwipl.cloudfront.net/api/congressmembers?q={\"filters\":[{\"name\":\"state\",\"op\":\"eq\",\"val\":\"'+ this.state.map[path] + '\"}]}')\r\n    this.setState({isLoading: true});\r\n    fetch('https://dm5v6ty0dwipl.cloudfront.net/api/states/' + path)\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n        this.setState({ items: data ,isLoading: false});      \r\n    })\r\n    .catch(console.log)\r\n    console.log(path)\r\n    fetch('https://dm5v6ty0dwipl.cloudfront.net/api/congressmembers?q={\"filters\":[{\"name\":\"state\",\"op\":\"eq\",\"val\":\"'+ this.state.map[path] + '\"}]}')\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n        this.setState({ values: data.objects,isLoading: false});      \r\n    })\r\n    .catch(console.log)\r\n    // console.log('api.empoweringknowledge.me/api/coal?q={\"filters\":[{\"name\":\"state_name\",\"op\":\"eq\",\"val\":\"'+ path + '\"}]}')\r\n    // fetch('api.empoweringknowledge.me/api/coal?q={\"filters\":[{\"name\":\"state_name\",\"op\":\"eq\",\"val\":\"'+ path + '\"}]}')\r\n    // .then(res => res.json())\r\n    // .then((data) => {\r\n    //     this.setState({ energy: data.objects,isLoading: false});      \r\n    // })\r\n    // .catch(console.log)\r\n    \r\n}\r\n\r\ngetbills(id){\r\n  \r\n  fetch('https://dm5v6ty0dwipl.cloudfront.net/api/bills?q={\"filters\":[{\"name\":\"sponsor_id\",\"op\":\"eq\",\"val\":\"'+ id +'\"}]}')\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n        this.setState({ bills: data.objects,isLoading: false});      \r\n    })\r\n}\r\n\r\n\r\n\r\nrender() {\r\n\r\n    const {items, isLoading, values, bills, bill, energy} = this.state;\r\n    var joined;\r\n    var stateMap = {\r\n      \"Alabama\":\"al\",\r\n      \"Alaska\":\"ak\",\r\n      \"Arizona\":\"az\",\r\n      \"Arkansas\":\"ar\",\r\n      \"California\":\"ca\",\r\n      \"Colorado\":\"co\",\r\n      \"Connecticut\":\"ct\",\r\n      \"Delaware\":\"de\",\r\n      \"Florida\":\"fl\",\r\n      \"Georgia\":\"ga\",\r\n      \"Hawaii\":\"hi\",\r\n      \"Idaho\":\"id\",\r\n      \"Illinois\":\"il\",\r\n      \"Indiana\":\"in\",\r\n      \"Iowa\":\"ia\",\r\n      \"Kansas\":\"ks\",\r\n      \"Kentucky\":\"ky\",\r\n      \"Louisiana\":\"la\",\r\n      \"Maine\":\"me\",\r\n      \"Maryland\":\"md\",\r\n      \"Massachusetts\":\"ma\",\r\n      \"Michigan\":\"mi\",\r\n      \"Minnesota\":\"mn\",\r\n      \"Mississippi\":\"ms\",\r\n      \"Missouri\":\"mo\",\r\n      \"Montana\":\"mt\",\r\n      \"Nebraska\":\"ne\",\r\n      \"Nevada\":\"nv\",\r\n      \"New Hampshire\":\"nh\",\r\n      \"New Jersey\":\"nj\",\r\n      \"New Mexico\":\"nm\",\r\n      \"New York\":\"ny\",\r\n      \"North Carolina\":\"nc\",\r\n      \"North Dakota\":\"nd\",\r\n      \"Ohio\":\"oh\",\r\n      \"Oklahoma\":\"ok\",\r\n      \"Oregon\":\"or\",\r\n      \"Pennsylvania\":\"pa\",\r\n      \"Rhode Island\":\"ri\",\r\n      \"South Carolina\":\"sc\",\r\n      \"South Dakota\":\"sd\",\r\n      \"Tennessee\":\"tn\",\r\n      \"Texas\":\"tx\",\r\n      \"Utah\":\"ut\",\r\n      \"Vermont\":\"vt\",\r\n      \"Virginia\":\"va\",\r\n      \"Washington\":\"wa\",\r\n      \"West Virginia\":\"wv\",\r\n      \"Wisconsin\":\"wi\",\r\n      \"Wyoming\":\"wy\",\r\n    };\r\n\r\n    if (isLoading){\r\n        return false;\r\n    }\r\n    \r\n\r\n    console.log(energy)\r\n    if(values === null){\r\n      return true;\r\n    }\r\n\r\n\r\n      return (\r\n        <div center className=\"StatesInstance\"style = {{paddingLeft:'3%',textAlign: 'center',color: '#000000'}}>\r\n            <img top width=\"80%\" style={{width: '300px', height: '375px'}} src={\"https://www.state-maps.org/\"+ stateMap[items.name]+\".gif\"} alt={\"No image\"} />\r\n            <h2 style = {{paddingTop: \"3%\",color: '#000000'}}> {items.name} </h2>\r\n            <center>\r\n            <ListGroup style = {{paddingTop:'1%', paddingLeft:'3%',textAlign: 'center',color: '#000000', width: '50%'}}>\r\n            {/* <ListGroupItem>\r\n                <ListGroupItemHeading>Summary</ListGroupItemHeading>\r\n                    <ListGroupItemText>\r\n                    {this.state.bio}\r\n                    </ListGroupItemText>\r\n                </ListGroupItem> */}\r\n                <ListGroupItem>\r\n                <ListGroupItemHeading>Population</ListGroupItemHeading>\r\n                    <ListGroupItemText>\r\n                    {items.population}\r\n                    </ListGroupItemText>\r\n                </ListGroupItem>\r\n                <ListGroupItem>\r\n                  <ListGroupItemHeading>Median Income</ListGroupItemHeading>\r\n                  <ListGroupItemText>\r\n                  {items.median_hh_income}\r\n                  </ListGroupItemText>\r\n                </ListGroupItem>\r\n                <ListGroupItem>\r\n                  <ListGroupItemHeading>Past/Present Representatives</ListGroupItemHeading>\r\n                  {values.slice(0, 5).map(value =>\r\n                    <ListGroupItemText>\r\n                      <a href= {\"/politician/\" + value.member_id}   to={\"/politician/\" + value.member_id}>{value.member_id}</a> \r\n                      {/* {bill[value.member_id] = value.member_id } */}\r\n                      {/* {this.setState({ bill: value.member_id})}  */}\r\n                    </ListGroupItemText>\r\n                    \r\n                  )}\r\n                </ListGroupItem>\r\n                <ListGroupItem>\r\n                  <ListGroupItemHeading>Energy Use</ListGroupItemHeading>\r\n                  <ListGroupItemText>\r\n                  Coal: {energy.data_2017}\r\n                  </ListGroupItemText>\r\n                </ListGroupItem>\r\n                <ListGroupItem>\r\n                  <ListGroupItemHeading>Bills Sponsored By State Representatives</ListGroupItemHeading>\r\n                  {console.log(bill)}\r\n                  {/* {Object.keys(bill).forEach((key) => {this.getbills({key})})}\r\n                    {bills.map(num=>\r\n                    <ListGroupItemText>\r\n                      <a href= {\"/bill/\" + num.bill_id}   to={\"/bill/\" + num.bill_id}>{num.bill_id}</a>                    \r\n                      </ListGroupItemText>\r\n                    )} */}\r\n                </ListGroupItem>\r\n        </ListGroup>\r\n        \r\n        </center>\r\n        \r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default StatesInstance;"]},"metadata":{},"sourceType":"module"}