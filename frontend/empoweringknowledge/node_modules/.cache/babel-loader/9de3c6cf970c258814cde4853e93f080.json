{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import'./Navbar.css';import Highlighter from\"react-highlight-words\";import'bootstrap/dist/css/bootstrap.min.css';import{Table,Col,Pagination,PaginationItem,PaginationLink,Form,Input,FormGroup}from'reactstrap';export var EnergyBills=/*#__PURE__*/function(_Component){_inherits(EnergyBills,_Component);function EnergyBills(props){var _this;_classCallCheck(this,EnergyBills);_this=_possibleConstructorReturn(this,_getPrototypeOf(EnergyBills).call(this,props));_this.state={terms:[],items:[],input:\"\",page:1,pages:0,nextpage:2,lastpage:1,isLoading:false};_this.handleTermChange=_this.handleTermChange.bind(_assertThisInitialized(_this));_this.handleSearch=_this.handleSearch.bind(_assertThisInitialized(_this));_this.handleEnter=_this.handleEnter.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(EnergyBills,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;//this.setState({isLoading: true});\nvar input=this.state.input.split(\" \");console.log(input);var url='https://api.empoweringknowledge.me/api/bills?page='+this.state.page;if(input[0]!=\"\"){url='https://api.empoweringknowledge.me/api/bills?q={\"filters\":[{\"or\":[';url+='{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';url+=',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';url+=',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';url+=',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';url+=',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';url+=',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';url+=',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';url+=',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+input[0]+'%\"}';for(var i=1;i<input.length;i++){url+=',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';url+=',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';url+=',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';url+=',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';url+=',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';url+=',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';url+=',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';url+=',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+input[i]+'%\"}';}url+=\"]}]}&page=\"+this.state.page;}console.log(url);fetch(url).then(function(res){return res.json();}).then(function(data){_this2.setState({items:data.objects});}).catch(console.log);}},{key:\"handleTermChange\",value:function handleTermChange(e){this.setState({input:e.target.value});}},{key:\"getName\",value:function getName(value){if(value!=null){return\"\"+value.first_name+\" \"+value.last_name;}}},{key:\"handleSearch\",value:function handleSearch(){this.componentDidMount();}},{key:\"handleEnter\",value:function handleEnter(e){if(e.key===13){this.handleSearch();}}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();this.handleSearch();}},{key:\"handlePageClick\",value:function handlePageClick(newPage){var _this3=this;if(newPage===1){this.setState({lastpage:newPage,page:newPage,nextpage:2},function(){_this3.componentDidMount();});}else if(newPage===this.state.pages){this.setState({lastpage:newPage-1,page:newPage,nextpage:newPage},function(){_this3.componentDidMount();});}else{this.setState({lastpage:newPage-1,page:newPage,nextpage:newPage+1},function(){_this3.componentDidMount();});}}},{key:\"render\",value:function render(){var _this4=this;var _this$state=this.state,items=_this$state.items,isLoading=_this$state.isLoading;console.log(isLoading);if(isLoading){console.log(isLoading);return false;}console.log(items);return React.createElement(\"div\",{className:\"EnergyBills\",style:{paddingTop:\"2%\",width:\"100%\",height:\"60%\"}},React.createElement(Form,{className:\"searchbox\",onSubmit:this.handleSubmit},React.createElement(FormGroup,{row:true},React.createElement(Col,{sm:{size:'auto',offset:5}},React.createElement(Input,{type:\"text\",placeholder:\"Search\",onChange:this.handleTermChange,onKeyDown:this.handleEnter})))),React.createElement(\"div\",null,React.createElement(\"h4\",null,\"Energy Bills\"),React.createElement(Col,{sm:{size:'auto'},style:{paddingTop:\"2%\"}},React.createElement(Table,{hover:true,responsive:true},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null),React.createElement(\"th\",null,\"Title\"),React.createElement(\"th\",null,\"Sponsor\"),React.createElement(\"th\",null,\"Committees\"),React.createElement(\"th\",null,\"Introduced Date\"),React.createElement(\"th\",null,\"House Passage\"),React.createElement(\"th\",null,\"Senate Passage\"),React.createElement(\"th\",null,\"Democrat Cosponsors\"),React.createElement(\"th\",null,\"Republican Cosponsors\"))),React.createElement(\"tbody\",null,items.map(function(item){return React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"row\"}),React.createElement(\"td\",null,\" \",React.createElement(\"a\",{href:\"/bill/\"+item.bill_id,to:\"/bill/\"+item.bill_id},React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.title}))),React.createElement(\"td\",null,\" \",React.createElement(\"a\",{href:\"/politician/\"+item.sponsor_id,to:\"/politician/\"+item.sponsor_id},React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+_this4.getName(item.sponsor_rs)}))),React.createElement(\"td\",null,\" \",React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.committees})),React.createElement(\"td\",null,\" \",React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.introduced_date})),React.createElement(\"td\",null,\" \",React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.house_passage})),React.createElement(\"td\",null,\" \",React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.senate_passage})),React.createElement(\"td\",null,\" \",React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.cosponsors_by_party_D})),React.createElement(\"td\",null,\" \",React.createElement(Highlighter,{highlightClassName:\"HighlightClass\",searchWords:_this4.state.input.split(\" \"),autoEscape:true,textToHighlight:\"\"+item.cosponsors_by_party_R})));}))))),React.createElement(\"div\",null,React.createElement(Pagination,{size:\"lg\",style:{justifyContent:'center',paddingTop:'3%'},\"aria-label\":\"Page navigation example\"},React.createElement(PaginationItem,null,React.createElement(PaginationLink,{first:true,onClick:function onClick(){return _this4.handlePageClick(1);},href:\"#\"})),React.createElement(PaginationItem,null,React.createElement(PaginationLink,{previous:true,onClick:function onClick(){return _this4.handlePageClick(_this4.state.lastpage);},href:\"#\"})),React.createElement(PaginationItem,null,React.createElement(PaginationLink,{onClick:function onClick(){return _this4.handlePageClick(_this4.state.page);},href:\"#\"},this.state.page)),React.createElement(PaginationItem,null,React.createElement(PaginationLink,{onClick:function onClick(){return _this4.handlePageClick(_this4.state.nextpage);},href:\"#\"},this.state.nextpage)),React.createElement(PaginationItem,null,React.createElement(PaginationLink,{next:true,onClick:function onClick(){return _this4.handlePageClick(_this4.state.nextpage);},href:\"#\"})),React.createElement(PaginationItem,null,React.createElement(PaginationLink,{last:true,onClick:function onClick(){return _this4.handlePageClick(_this4.state.pages);},href:\"#\"})))));}}]);return EnergyBills;}(Component);export default EnergyBills;","map":{"version":3,"sources":["C:\\Users\\Edwin\\Documents\\College\\CS_373\\cs373-web\\frontend\\empoweringknowledge\\src\\EnergyBills.js"],"names":["React","Component","Highlighter","Table","Col","Pagination","PaginationItem","PaginationLink","Form","Input","FormGroup","EnergyBills","props","state","terms","items","input","page","pages","nextpage","lastpage","isLoading","handleTermChange","bind","handleSearch","handleEnter","handleSubmit","split","console","log","url","i","length","fetch","then","res","json","data","setState","objects","catch","e","target","value","first_name","last_name","componentDidMount","key","preventDefault","newPage","paddingTop","width","height","size","offset","map","item","bill_id","title","sponsor_id","getName","sponsor_rs","committees","introduced_date","house_passage","senate_passage","cosponsors_by_party_D","cosponsors_by_party_R","justifyContent","handlePageClick"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport './Navbar.css';\r\nimport Highlighter from \"react-highlight-words\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {\r\n    Table,Col, Pagination, PaginationItem, PaginationLink, Form, Input, FormGroup \r\n     } from 'reactstrap';\r\nexport class EnergyBills extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            terms: [],\r\n            items: [],\r\n            input:\"\",\r\n            page: 1,\r\n            pages: 0,\r\n            nextpage: 2,\r\n            lastpage: 1,\r\n            isLoading: false,\r\n        }\r\n        this.handleTermChange = this.handleTermChange.bind(this);\r\n        this.handleSearch = this.handleSearch.bind(this);\r\n        this.handleEnter = this.handleEnter.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        \r\n    }\r\n    componentDidMount() {\r\n        //this.setState({isLoading: true});\r\n        var input = this.state.input.split(\" \");\r\n        console.log(input)\r\n        var url = 'https://api.empoweringknowledge.me/api/bills?page=' + this.state.page;\r\n        if(input[0] != \"\"){\r\n          url = 'https://api.empoweringknowledge.me/api/bills?q={\"filters\":[{\"or\":[';\r\n          url += '{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          url += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n          for(var i = 1; i < input.length; i++){\r\n              url += ',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n              url += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          }\r\n      \r\n          url += \"]}]}&page=\"+ this.state.page;\r\n        }\r\n        console.log(url);\r\n        fetch(url)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({items:data.objects});  \r\n        })\r\n        .catch(console.log)\r\n\r\n    }\r\n    \r\n  handleTermChange(e) {\r\n\r\n      this.setState({ input: e.target.value });\r\n    \r\n  }\r\n  getName(value){\r\n    if(value != null){\r\n        return (\"\" + value.first_name + \" \" + value.last_name)\r\n    }\r\n  }\r\n  handleSearch() {\r\n    \r\n    this.componentDidMount();\r\n  }\r\n\r\n  handleEnter(e) {\r\n      \r\n      if (e.key === 13) {\r\n      this.handleSearch();\r\n      }\r\n  }\r\n\r\n  handleSubmit(e) {\r\n      e.preventDefault();\r\n      this.handleSearch();\r\n}\r\n    handlePageClick(newPage){\r\n        if(newPage === 1){\r\n            this.setState({lastpage: newPage, page: newPage, nextpage: 2}, () => {\r\n            this.componentDidMount();\r\n            });\r\n        }\r\n        else if(newPage === this.state.pages){\r\n            this.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage}, () => {\r\n                this.componentDidMount();\r\n                });\r\n        }\r\n        else{\r\n            this.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage + 1}, () => {\r\n                this.componentDidMount();\r\n                });\r\n        }\r\n        \r\n    }\r\n    render() {\r\n        const {items, isLoading} = this.state;\r\n        console.log(isLoading)\r\n        if (isLoading){\r\n            console.log(isLoading)\r\n            return false;\r\n        }\r\n        \r\n        console.log(items)        \r\n        \r\n      return (\r\n        <div className=\"EnergyBills\" style={{paddingTop: \"2%\",width:\"100%\", height:\"60%\"}}>\r\n          <Form className=\"searchbox\" onSubmit={this.handleSubmit}>\r\n                <FormGroup row>\r\n              \r\n                <Col sm={{ size: 'auto', offset: 5 }}>\r\n                    <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Search\"\r\n                    onChange={this.handleTermChange}\r\n                    onKeyDown={this.handleEnter}\r\n                    />\r\n                </Col>\r\n                </FormGroup>\r\n\r\n                </Form>\r\n           <div>\r\n            <h4>Energy Bills</h4>\r\n            <Col sm={{ size: 'auto'}} style={{paddingTop: \"2%\"}}>\r\n            <Table hover responsive>\r\n                <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>Title</th>\r\n                    <th>Sponsor</th>\r\n                    <th>Committees</th>\r\n                    <th>Introduced Date</th>\r\n                    <th>House Passage</th>\r\n                    <th>Senate Passage</th>\r\n                    <th>Democrat Cosponsors</th>\r\n                    <th>Republican Cosponsors</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n                {items.map(item =>\r\n\r\n                <tr>\r\n                    <th scope=\"row\"></th>\r\n                    <td> <a href= {\"/bill/\" + item.bill_id}   to={\"/bill/\" + item.bill_id}><Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.title}/></a></td>\r\n                    <td> <a href= {\"/politician/\" + item.sponsor_id}   to={\"/politician/\" + item.sponsor_id}><Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + this.getName(item.sponsor_rs)}/></a></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.committees}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.introduced_date}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.house_passage}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.senate_passage}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.cosponsors_by_party_D}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.cosponsors_by_party_R}/></td>\r\n                </tr>\r\n                )}\r\n                </tbody>\r\n            </Table>\r\n                </Col>\r\n            </div>\r\n        <div>\r\n        <Pagination size=\"lg\" style={{justifyContent: 'center', paddingTop:'3%'}} aria-label=\"Page navigation example\">\r\n        <PaginationItem>\r\n          <PaginationLink first onClick={() => this.handlePageClick(1)} href={\"#\"} />\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink previous onClick={() => this.handlePageClick(this.state.lastpage)} href={\"#\"} />\r\n        </PaginationItem>\r\n        {/* <PaginationItem>\r\n          <PaginationLink onClick={() => this.handlePageClick(this.state.lastpage)} href={\"#\"}>\r\n            {this.state.lastpage}\r\n          </PaginationLink>\r\n        </PaginationItem> */}\r\n        <PaginationItem>\r\n          <PaginationLink onClick={() => this.handlePageClick(this.state.page)} href={\"#\"}>\r\n            {this.state.page}\r\n          </PaginationLink>\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink onClick={() => this.handlePageClick(this.state.nextpage)} href={\"#\"}>\r\n            {this.state.nextpage}\r\n          </PaginationLink>\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink next onClick={() => this.handlePageClick(this.state.nextpage)} href={\"#\"} />\r\n        </PaginationItem>\r\n        <PaginationItem>\r\n          <PaginationLink last onClick={() => this.handlePageClick(this.state.pages)} href=\"#\" />\r\n        </PaginationItem>\r\n      </Pagination>\r\n      </div>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default EnergyBills;"]},"metadata":{},"sourceType":"module"}