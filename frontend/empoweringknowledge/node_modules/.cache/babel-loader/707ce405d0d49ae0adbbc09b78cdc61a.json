{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Edwin\\\\Documents\\\\College\\\\CS_373\\\\cs373-web\\\\frontend\\\\empoweringknowledge\\\\src\\\\EnergyBills.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport { Button, ButtonGroup, ButtonToolbar, Dropdown, DropdownToggle, DropdownMenu, DropdownItem, Table, Col, Pagination, PaginationItem, PaginationLink, Form, Input, FormGroup } from 'reactstrap';\nimport Highlighter from \"react-highlight-words\";\nimport './Navbar.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport MyPagination from \"./Pagination.js\";\nconst BILLSSURL = 'https://api.empoweringknowledge.me/api/bills';\nconst ORDER = '\"order_by\":[{\"field\":\"title\",\"direction\":\"';\nexport class EnergyBills extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 1,\n      pages: 0,\n      nextpage: 2,\n      lastpage: 1,\n      items: [],\n      input: \"\",\n      isLoading: false,\n      sortBy: \"asc\",\n      attributes: {\n        title: \"\",\n        sponsor_id: \"\",\n        committees: \"\",\n        introduced_date: \"\",\n        house_passage: \"\",\n        senate_passage: \"\",\n        cosponsors_by_party_D: \"\",\n        cosponsors_by_party_R: \"\"\n      },\n      filter: \"\",\n      committee: \"\",\n      year: \"\",\n\n      /* dropdownOpen: {\r\n           committee: false, \r\n           year: false},*/\n      dropdownOpen: [false, false],\n      dropDownSelections: {\n        \"committee\": \"None\",\n        \"year\": \"None\"\n      }\n    };\n    this.handleTermChange = this.handleTermChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleEnter = this.handleEnter.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    var url = this.buildUrl();\n    fetch(url).then(res => res.json()).then(data => {\n      this.setState({\n        items: data.objects,\n        items: data.objects,\n        pages: data.total_pages,\n        isLoading: false\n      }, () => {\n        if (this.state.pages <= 1) this.setState({\n          nextpage: 1\n        });\n      });\n    }).catch(console.log); //this.setState({isLoading: true});\n\n    /*var filter = this.state.filter;\r\n    var committee = this.state.committee;\r\n    var year = this.state.year;\r\n    var search = \"\";\r\n      if(committee !== \"\"){\r\n        if(filter === \"\"){\r\n            filter += '{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ committee +'%\"}'\r\n        }\r\n        else{\r\n            filter += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ committee +'%\"}'\r\n        }\r\n      }\r\n      if(year !== \"\"){\r\n        if(filter === \"\"){\r\n            filter += '{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"'+ year +'%\"}'\r\n        }\r\n        else{\r\n            filter += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"'+ year +'%\"}'\r\n        }\r\n      }\r\n      var input = this.state.input.split(\" \");\r\n    console.log(input)\r\n    if(input[0] != \"\"){\r\n        console.log(\"length\")\r\n        if(filter === \"\"){ \r\n            search = '{\"or\":[';\r\n        }\r\n        else{\r\n            search = ',{\"or\":[';\r\n        }\r\n        search += '{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n      for(var i = 1; i < input.length; i++){\r\n          search += ',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n      }\r\n          search += \"]}\";\r\n      filter += search;\r\n    }\r\n       if(filter === \"\"){\r\n        fetch('https://api.empoweringknowledge.me/api/bills?q={\"order_by\":[{\"field\":\"title\",\"direction\":\"'\r\n            + this.state.sortBy \r\n            + '\"}]}&page='\r\n            + this.state.page)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ items: data.objects, pages:data.total_pages,isLoading: false});      \r\n        })\r\n        .catch(console.log)\r\n    }\r\n    else{\r\n        fetch('https://api.empoweringknowledge.me/api/bills?q={\"filters\":[' + filter + '],\"order_by\":[{\"field\":\"title\",\"direction\":\"'\r\n            + this.state.sortBy \r\n            + '\"}]}&page='\r\n            + this.state.page)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ items: data.objects, pages:data.total_pages,isLoading: false}, () => {\r\n                if(this.state.pages <= 1)\r\n                    this.setState({nextpage: 1})\r\n            });      \r\n        })\r\n        .catch(console.log)\r\n    }*/\n  }\n  /*\r\n   * Builds the url that will be used to fetch the data.\r\n   */\n\n\n  buildUrl() {\n    var filter = \"\";\n    var url = \"\";\n    filter = this.buildFilter();\n    filter = this.buildSearch(filter); // If there aren't any filters or terms for searching, use default url\n    // that displays data in ascending order\n\n    if (filter === \"\") {\n      url = BILLSSURL + '?q={' + ORDER + this.state.sortBy + '\"}]}&page=' + this.state.page;\n    } else {\n      // Else, add the filters and search query\n      url = BILLSSURL + '?q={\"filters\":[' + filter + '],' + ORDER + this.state.sortBy + '\"}]}&page=' + this.state.page;\n    }\n\n    return url;\n  }\n  /*\r\n   * Loops through all of the of the model's filterable attributes and checks if \r\n   * there is a filter being applied. If there is, it adds that filter query to \r\n   * the filter string. \r\n   */\n\n\n  buildFilter() {\n    var filter = \"\";\n    var keys = Object.keys(this.state.attributes); // Grabs list of attributes\n\n    var currAttribute = \"\";\n    var currAttributeVal = \"\"; // Only want loop through 2 attributes, committees and introduced_date,\n\n    for (var i = 2; i < keys.length - 4; i++) {\n      currAttribute = keys[i];\n      currAttributeVal = this.state.attributes[currAttribute]; // Checks the rest of the attributes\n\n      if (currAttributeVal !== \"\") {\n        if (filter === \"\") {\n          filter += '{\"name\":\"' + currAttribute + '\",\"op\":\"eq\",\"val\":\"' + currAttributeVal + '\"}';\n        } else {\n          filter += ',{\"name\":\"' + currAttribute + '\",\"op\":\"eq\",\"val\":\"' + currAttributeVal + '\"}';\n        }\n      }\n    }\n\n    return filter;\n  }\n  /*\r\n   * Loops through all of the model's attributes and adds a search query for each\r\n   * term the user inputs. \r\n   */\n\n\n  buildSearch(filter) {\n    var search = \"\";\n    var input = [];\n    var keys = Object.keys(this.state.attributes);\n    var currAttribute = \"\";\n    input = this.state.input.split(\" \"); // List of terms the user inputs\n    // Checks if there's atleast one search term\n\n    if (input[0] != \"\") {\n      // Checks if anything precedes this query\n      // If something does, add a comma\n      if (filter === \"\") {\n        search = '{\"or\":[';\n      } else {\n        search = ',{\"or\":[';\n      } // Loops through each of the attributes\n\n\n      for (var j = 0; j < keys.length; j++) {\n        // Loops through each term the user inputs\n        for (var i = 0; i < input.length; i++) {\n          currAttribute = keys[j]; // Special case, adds comma if this is the first entry in the \n          // search query \n\n          if (currAttribute === \"name\" && i == 0) search += '{\"name\":\"' + currAttribute + '\",\"op\":\"like\",\"val\":\"\\%' + input[i] + '\\%\"}';else search += ',{\"name\":\"' + currAttribute + '\",\"op\":\"like\",\"val\":\"\\%' + input[i] + '\\%\"}';\n        }\n      }\n\n      search += \"]}\";\n      filter += search;\n    }\n\n    return filter;\n  }\n\n  handleTermChange(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n\n  getName(value) {\n    if (value != null) {\n      return \"\" + value.first_name + \" \" + value.last_name;\n    }\n  }\n\n  handleSearch() {\n    this.componentDidMount();\n  }\n\n  handleEnter(e) {\n    if (e.key === 13) {\n      this.handleSearch();\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.handleSearch();\n  }\n\n  handleFilterCommittee(committeeFilter) {\n    console.log(committeeFilter);\n    this.setState({\n      committee: committeeFilter,\n      page: 1,\n      nextpage: 2,\n      lastpage: 1\n    }, () => {\n      this.componentDidMount();\n    });\n  }\n  /*\r\n  * Updates page variables that are used in pagination when the user clicks \r\n  * on a new page number to go to. Then calls componentDidMount() so that the \r\n  * new data is loaded. \r\n  */\n\n\n  handlePageClick(newPage) {\n    if (newPage === 1) {\n      this.setState({\n        lastpage: newPage,\n        page: newPage,\n        nextpage: 2\n      }, () => {\n        this.componentDidMount();\n      });\n    } else if (newPage === this.state.pages) {\n      this.setState({\n        lastpage: newPage - 1,\n        page: newPage,\n        nextpage: newPage\n      }, () => {\n        this.componentDidMount();\n      });\n    } else {\n      this.setState({\n        lastpage: newPage - 1,\n        page: newPage,\n        nextpage: newPage + 1\n      }, () => {\n        this.componentDidMount();\n      });\n    }\n  }\n\n  handleFilterYear(yearFilter) {\n    console.log(yearFilter);\n    this.setState({\n      year: yearFilter,\n      page: 1,\n      nextpage: 2,\n      lastpage: 1\n    }, () => {\n      this.componentDidMount();\n    });\n  }\n\n  handleSorting(sort) {\n    this.setState({\n      sortBy: sort\n    }, () => {\n      this.componentDidMount();\n    });\n  }\n\n  handleReset() {\n    this.setState({\n      dropDownSelections: {\n        \"committee\": \"None\",\n        \"year\": \"None\"\n      },\n      input: \"\",\n      filter: \"\",\n      committee: \"\",\n      year: \"\",\n      page: 1,\n      nextpage: 2,\n      lastpage: 1\n    }, () => {\n      this.componentDidMount();\n    });\n  }\n\n  setDropdownOpen(index) {\n    var newdropdownOpen = this.state.dropdownOpen;\n    newdropdownOpen[index] = !newdropdownOpen[index];\n    this.setState({\n      dropdownOpen: newdropdownOpen\n    });\n  }\n\n  setDropDownTitle(attribute, selection) {\n    var newDropDownSelections = this.state.dropDownSelections;\n    newDropDownSelections[attribute] = selection;\n    this.setState({\n      dropDownSelections: newDropDownSelections\n    });\n\n    if (selection === \"None\") {\n      selection = \"\";\n    }\n\n    if (attribute === \"committee\") this.handleFilterCommittee(selection);else if (attribute === \"year\") this.handleFilterYear(selection);\n  }\n\n  renderSortAndFilter() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(ButtonGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(Dropdown, {\n      isOpen: this.state.dropdownOpen[0],\n      toggle: () => this.setDropdownOpen(0),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(DropdownToggle, {\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, \"Filter by Committee: \", this.state.dropDownSelections[\"committee\"]), React.createElement(DropdownMenu, {\n      modifiers: {\n        setMaxHeight: {\n          enabled: true,\n          order: 890,\n          fn: data => {\n            return _objectSpread({}, data, {\n              styles: _objectSpread({}, data.styles, {\n                overflow: 'auto',\n                maxHeight: 150\n              })\n            });\n          }\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"None\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, \"None\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Agriculture\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387\n      },\n      __self: this\n    }, \"Agriculture\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Appropriations\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }, \"Appropriations\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Armed Services\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, \"Armed Services\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Budget\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }, \"Budget\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Banking\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, \"Banking\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Education\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, \"Education\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Energy\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    }, \"Energy\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Ethics\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394\n      },\n      __self: this\n    }, \"Ethics\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Financial Services\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, \"Financial Services\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Foreign\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"Foreign\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Homeland Security\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, \"Homeland Security\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Administration\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, \"Administration\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Judiciary\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, \"Judiciary\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Natural Resources\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    }, \"Natural Resources\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Oversight and Reform\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, \"Oversight and Reform\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Rules\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, \"Rules\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Administration\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }, \"Administration\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Science\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404\n      },\n      __self: this\n    }, \"Science\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Small Business\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"Small Business\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Transportation\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, \"Transportation\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Veterans' Affairs\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407\n      },\n      __self: this\n    }, \"Veterans' Affairs\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Ways and Means\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408\n      },\n      __self: this\n    }, \"Ways and Means\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Judiciary\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, \"Judiciary\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"committee\", \"Natural Resources\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410\n      },\n      __self: this\n    }, \"Natural Resources\")), ' '), React.createElement(Dropdown, {\n      isOpen: this.state.dropdownOpen[1],\n      toggle: () => this.setDropdownOpen(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, React.createElement(DropdownToggle, {\n      caret: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    }, \"Filter by Year: \", this.state.dropDownSelections[\"year\"]), React.createElement(DropdownMenu, {\n      modifiers: {\n        setMaxHeight: {\n          enabled: true,\n          order: 890,\n          fn: data => {\n            return _objectSpread({}, data, {\n              styles: _objectSpread({}, data.styles, {\n                overflow: 'auto',\n                maxHeight: 150\n              })\n            });\n          }\n        }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"None\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435\n      },\n      __self: this\n    }, \"None\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"1993\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }, \"1993\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"1994\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437\n      },\n      __self: this\n    }, \"1994\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"1995\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438\n      },\n      __self: this\n    }, \"1995\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"1996\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439\n      },\n      __self: this\n    }, \"1996\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"1997\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, \"1997\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"1998\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441\n      },\n      __self: this\n    }, \"1998\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"1999\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442\n      },\n      __self: this\n    }, \"1999\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2000\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443\n      },\n      __self: this\n    }, \"2000\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2001\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }, \"2001\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2002\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445\n      },\n      __self: this\n    }, \"2002\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2003\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446\n      },\n      __self: this\n    }, \"2003\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2004\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447\n      },\n      __self: this\n    }, \"2004\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2005\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448\n      },\n      __self: this\n    }, \"2005\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2006\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, \"2006\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2007\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, \"2007\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2008\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, \"2008\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2009\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, \"2009\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2010\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, \"2010\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2011\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, \"2011\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2012\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }, \"2012\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2013\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, \"2013\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2014\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }, \"2014\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2015\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }, \"2015\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2017\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459\n      },\n      __self: this\n    }, \"2017\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2018\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }, \"2018\"), React.createElement(DropdownItem, {\n      onClick: () => this.setDropDownTitle(\"year\", \"2019\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461\n      },\n      __self: this\n    }, \"2019\")), ' '), React.createElement(Button, {\n      onClick: () => this.handleReset(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, \"Reset\"), ' ')), React.createElement(\"div\", {\n      className: \"text-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      onClick: () => this.handleSorting(\"asc\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }, \"Ascending\"), ' ', React.createElement(Button, {\n      color: \"secondary\",\n      onClick: () => this.handleSorting(\"desc\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469\n      },\n      __self: this\n    }, \"Descending\"), ' '));\n  }\n\n  render() {\n    const _this$state = this.state,\n          items = _this$state.items,\n          isLoading = _this$state.isLoading;\n    console.log(isLoading);\n\n    if (isLoading) {\n      console.log(isLoading);\n      return false;\n    }\n\n    console.log(items);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, this.renderSortAndFilter()), React.createElement(\"div\", {\n      className: \"EnergyBills\",\n      style: {\n        paddingTop: \"2%\",\n        width: \"100%\",\n        height: \"60%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }, React.createElement(Form, {\n      className: \"searchbox\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: {\n        size: 'auto',\n        offset: 5\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"Search\",\n      onChange: this.handleTermChange,\n      onKeyDown: this.handleEnter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507\n      },\n      __self: this\n    }, \"Energy Bills\"), React.createElement(Col, {\n      sm: {\n        size: 'auto'\n      },\n      style: {\n        paddingTop: \"2%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508\n      },\n      __self: this\n    }, React.createElement(Table, {\n      hover: true,\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    }, \"Sponsor\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515\n      },\n      __self: this\n    }, \"Committees\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }, \"Introduced Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517\n      },\n      __self: this\n    }, \"House Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, \"Senate Passage\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, \"Democrat Cosponsors\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }, \"Republican Cosponsors\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, items.map(item => React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, \" \", React.createElement(\"a\", {\n      href: \"/bill/\" + item.bill_id,\n      to: \"/bill/\" + item.bill_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }, \" \", React.createElement(\"a\", {\n      href: \"/politician/\" + item.sponsor_id,\n      to: \"/politician/\" + item.sponsor_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }, React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + this.getName(item.sponsor_rs),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.committees,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.introduced_date,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.house_passage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.senate_passage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.cosponsors_by_party_D,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564\n      },\n      __self: this\n    }, \" \", React.createElement(Highlighter, {\n      highlightClassName: \"HighlightClass\",\n      searchWords: this.state.input.split(\" \"),\n      autoEscape: true,\n      textToHighlight: \"\" + item.cosponsors_by_party_R,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564\n      },\n      __self: this\n    })))))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }, React.createElement(MyPagination, {\n      pages: this.state.pages,\n      handlePageClick: this.handlePageClick,\n      nextpage: this.state.nextpage,\n      lastpage: this.state.lastpage,\n      page: this.state.page,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    }))));\n  }\n\n}\nexport default EnergyBills;","map":{"version":3,"sources":["C:\\Users\\Edwin\\Documents\\College\\CS_373\\cs373-web\\frontend\\empoweringknowledge\\src\\EnergyBills.js"],"names":["React","Component","Button","ButtonGroup","ButtonToolbar","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","Table","Col","Pagination","PaginationItem","PaginationLink","Form","Input","FormGroup","Highlighter","MyPagination","BILLSSURL","ORDER","EnergyBills","constructor","props","state","page","pages","nextpage","lastpage","items","input","isLoading","sortBy","attributes","title","sponsor_id","committees","introduced_date","house_passage","senate_passage","cosponsors_by_party_D","cosponsors_by_party_R","filter","committee","year","dropdownOpen","dropDownSelections","handleTermChange","bind","handleSearch","handleEnter","handleSubmit","handlePageClick","componentDidMount","setState","url","buildUrl","fetch","then","res","json","data","objects","total_pages","catch","console","log","buildFilter","buildSearch","keys","Object","currAttribute","currAttributeVal","i","length","search","split","j","e","target","value","getName","first_name","last_name","key","preventDefault","handleFilterCommittee","committeeFilter","newPage","handleFilterYear","yearFilter","handleSorting","sort","handleReset","setDropdownOpen","index","newdropdownOpen","setDropDownTitle","attribute","selection","newDropDownSelections","renderSortAndFilter","setMaxHeight","enabled","order","fn","styles","overflow","maxHeight","render","paddingTop","width","height","size","offset","map","item","bill_id","sponsor_rs"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport {\r\n    Button, ButtonGroup, ButtonToolbar,\r\n    Dropdown, DropdownToggle, DropdownMenu, DropdownItem,\r\n    Table,Col, Pagination, PaginationItem, PaginationLink, Form, Input, FormGroup \r\n     } from 'reactstrap';\r\nimport Highlighter from \"react-highlight-words\";\r\nimport './Navbar.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport MyPagination from \"./Pagination.js\";\r\n\r\nconst BILLSSURL = 'https://api.empoweringknowledge.me/api/bills';\r\nconst ORDER = '\"order_by\":[{\"field\":\"title\",\"direction\":\"';\r\n\r\nexport class EnergyBills extends Component {\r\n\r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        page: 1,\r\n\t\tpages: 0,\r\n\t\tnextpage: 2,\r\n\t\tlastpage: 1,\r\n        items: [],\r\n        input:\"\",\r\n        isLoading: false,\r\n        sortBy: \"asc\",\r\n        attributes: {\r\n            title: \"\",\r\n            sponsor_id: \"\",\r\n            committees: \"\", \r\n            introduced_date: \"\",\r\n            house_passage: \"\",\r\n            senate_passage: \"\",\r\n            cosponsors_by_party_D: \"\",\r\n            cosponsors_by_party_R: \"\"},\r\n        filter: \"\",\r\n        committee: \"\",\r\n        year: \"\",\r\n       /* dropdownOpen: {\r\n            committee: false, \r\n            year: false},*/\r\n        dropdownOpen: [false, false],\r\n        dropDownSelections: {\r\n            \"committee\": \"None\", \r\n            \"year\":\"None\"}\r\n    }\r\n    this.handleTermChange = this.handleTermChange.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.handleEnter = this.handleEnter.bind(this);\r\n\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\tthis.handlePageClick = this.handlePageClick.bind(this);\r\n    \r\n}\r\n\r\ncomponentDidMount() {\r\n    this.setState({isLoading: true});\r\n\r\n    var url = this.buildUrl();\r\n\r\n    fetch(url)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ items: data.objects, items: data.objects, \r\n                pages:data.total_pages,isLoading: false}, () => {\r\n                if(this.state.pages <= 1)\r\n                    this.setState({nextpage: 1})    \r\n            });      \r\n        })\r\n        .catch(console.log);\r\n    //this.setState({isLoading: true});\r\n    /*var filter = this.state.filter;\r\n    var committee = this.state.committee;\r\n    var year = this.state.year;\r\n    var search = \"\";\r\n\r\n    if(committee !== \"\"){\r\n        if(filter === \"\"){\r\n            filter += '{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ committee +'%\"}'\r\n        }\r\n        else{\r\n            filter += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ committee +'%\"}'\r\n        }\r\n\r\n    }\r\n\r\n    if(year !== \"\"){\r\n        if(filter === \"\"){\r\n            filter += '{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"'+ year +'%\"}'\r\n        }\r\n        else{\r\n            filter += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"'+ year +'%\"}'\r\n        }\r\n\r\n    }\r\n\r\n    var input = this.state.input.split(\" \");\r\n    console.log(input)\r\n    if(input[0] != \"\"){\r\n        console.log(\"length\")\r\n        if(filter === \"\"){ \r\n            search = '{\"or\":[';\r\n        }\r\n        else{\r\n            search = ',{\"or\":[';\r\n        }\r\n        search += '{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n        search += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[0] +'%\"}';\r\n      for(var i = 1; i < input.length; i++){\r\n          search += ',{\"name\":\"title\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"sponsor_id\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"committees\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"introduced_date\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"cosponsors_by_party_R\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"house_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"senate_passage\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n          search += ',{\"name\":\"cosponsors_by_party_D\",\"op\":\"like\",\"val\":\"%'+ input[i] +'%\"}';\r\n      }\r\n  \r\n      search += \"]}\";\r\n      filter += search;\r\n    }\r\n\r\n     if(filter === \"\"){\r\n        fetch('https://api.empoweringknowledge.me/api/bills?q={\"order_by\":[{\"field\":\"title\",\"direction\":\"'\r\n            + this.state.sortBy \r\n            + '\"}]}&page='\r\n            + this.state.page)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ items: data.objects, pages:data.total_pages,isLoading: false});      \r\n        })\r\n        .catch(console.log)\r\n    }\r\n    else{\r\n        fetch('https://api.empoweringknowledge.me/api/bills?q={\"filters\":[' + filter + '],\"order_by\":[{\"field\":\"title\",\"direction\":\"'\r\n            + this.state.sortBy \r\n            + '\"}]}&page='\r\n            + this.state.page)\r\n        .then(res => res.json())\r\n        .then((data) => {\r\n            this.setState({ items: data.objects, pages:data.total_pages,isLoading: false}, () => {\r\n                if(this.state.pages <= 1)\r\n                    this.setState({nextpage: 1})\r\n            });      \r\n        })\r\n        .catch(console.log)\r\n    }*/\r\n}\r\n\r\n/*\r\n * Builds the url that will be used to fetch the data.\r\n */\r\nbuildUrl(){\r\n    var filter = \"\";\r\n    var url = \"\";\r\n    \r\n    filter = this.buildFilter();\r\n    filter = this.buildSearch(filter);\r\n    \r\n    // If there aren't any filters or terms for searching, use default url\r\n    // that displays data in ascending order\r\n    if(filter === \"\"){\r\n        url = BILLSSURL + '?q={'\r\n        + ORDER \r\n        + this.state.sortBy \r\n        + '\"}]}&page='\r\n        + this.state.page;\r\n    } else{ // Else, add the filters and search query\r\n        url = BILLSSURL + '?q={\"filters\":['\r\n        + filter\r\n        + '],'\r\n        + ORDER\r\n        + this.state.sortBy \r\n        + '\"}]}&page='\r\n        + this.state.page;\r\n    }\r\n\r\n    return url;\r\n}\r\n\r\n/*\r\n * Loops through all of the of the model's filterable attributes and checks if \r\n * there is a filter being applied. If there is, it adds that filter query to \r\n * the filter string. \r\n */\r\nbuildFilter(){\r\n    var filter = \"\";\r\n    var keys = Object.keys(this.state.attributes); // Grabs list of attributes\r\n    var currAttribute = \"\";\r\n    var currAttributeVal = \"\";\r\n\r\n    // Only want loop through 2 attributes, committees and introduced_date,\r\n    for(var i = 2; i < keys.length - 4; i++){\r\n        currAttribute = keys[i];\r\n        currAttributeVal = this.state.attributes[currAttribute];\r\n\r\n        // Checks the rest of the attributes\r\n        if( currAttributeVal !== \"\"){\r\n            if(filter === \"\"){\r\n                filter += '{\"name\":\"' + currAttribute \r\n                    + '\",\"op\":\"eq\",\"val\":\"'+ currAttributeVal +'\"}'\r\n            }else{\r\n                filter += ',{\"name\":\"' + currAttribute \r\n                    + '\",\"op\":\"eq\",\"val\":\"'+ currAttributeVal +'\"}'\r\n            }\r\n        }\r\n    }\r\n\r\n    return filter;\r\n}\r\n\r\n/*\r\n * Loops through all of the model's attributes and adds a search query for each\r\n * term the user inputs. \r\n */\r\nbuildSearch(filter){\r\n    var search = \"\";\r\n    var input = [];\r\n    var keys = Object.keys(this.state.attributes);\r\n    var currAttribute = \"\";\r\n\r\n    input = this.state.input.split(\" \"); // List of terms the user inputs\r\n\r\n    // Checks if there's atleast one search term\r\n    if(input[0] != \"\"){\r\n        // Checks if anything precedes this query\r\n        // If something does, add a comma\r\n        if(filter === \"\"){ \r\n            search = '{\"or\":['\r\n        }\r\n        else{\r\n            search = ',{\"or\":['\r\n        }\r\n\r\n        // Loops through each of the attributes\r\n        for(var j = 0; j < keys.length; j++){\r\n            // Loops through each term the user inputs\r\n            for(var i = 0; i < input.length; i++){\r\n                currAttribute = keys[j]\r\n                // Special case, adds comma if this is the first entry in the \r\n                // search query \r\n                if(currAttribute === \"name\" && i == 0)\r\n                    search += '{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"\\%'+ input[i] +'\\%\"}'\r\n                else\r\n                    search += ',{\"name\":\"' + currAttribute \r\n                        + '\",\"op\":\"like\",\"val\":\"\\%'+ input[i] +'\\%\"}'\r\n            }\r\n        }\r\n\r\n        search += \"]}\";\r\n        filter += search;\r\n    }\r\n\r\n    return filter;\r\n}\r\n\r\n\r\n    \r\n    handleTermChange(e) {\r\n        this.setState({ input: e.target.value });\r\n    }\r\n    getName(value){\r\n      if(value != null){\r\n          return (\"\" + value.first_name + \" \" + value.last_name)\r\n      }\r\n    }\r\n    handleSearch() {\r\n      this.componentDidMount();\r\n    }\r\n\r\n    handleEnter(e) {    \r\n        if (e.key === 13) {\r\n        this.handleSearch();\r\n        }\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        this.handleSearch();\r\n    }\r\n    \r\n    handleFilterCommittee(committeeFilter){\r\n        console.log(committeeFilter);\r\n        this.setState({committee: committeeFilter, page: 1, nextpage: 2, lastpage: 1}, () =>{\r\n          this.componentDidMount();\r\n        });\r\n\t}\r\n\t\r\n\t/*\r\n\t* Updates page variables that are used in pagination when the user clicks \r\n\t* on a new page number to go to. Then calls componentDidMount() so that the \r\n\t* new data is loaded. \r\n\t*/\r\n\thandlePageClick(newPage){\r\n\t\tif(newPage === 1){\r\n\t\t\tthis.setState({lastpage: newPage, page: newPage, nextpage: 2}, () => {\r\n\t\t\t\tthis.componentDidMount();\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if(newPage === this.state.pages){\r\n\t\t\tthis.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage}, () => {\r\n\t\t\t\tthis.componentDidMount();\r\n\t\t\t});\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({lastpage: newPage - 1, page: newPage, nextpage: newPage + 1}, () => {\r\n\t\t\t\tthis.componentDidMount();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    handleFilterYear(yearFilter){\r\n        console.log(yearFilter);\r\n        this.setState({year: yearFilter, page: 1, nextpage: 2, lastpage: 1}, () =>{\r\n          this.componentDidMount();\r\n        });\r\n    }\r\n\r\n    handleSorting(sort){\r\n        this.setState({sortBy: sort}, () => {\r\n          this.componentDidMount();\r\n        });\r\n    }\r\n\r\n    handleReset(){\r\n        this.setState({dropDownSelections: {\"committee\":\"None\", \"year\": \"None\"}, input: \"\", filter: \"\", committee: \"\", year: \"\", page: 1, nextpage: 2, lastpage: 1}, () =>{\r\n          this.componentDidMount();\r\n        });\r\n    }\r\n\r\n\r\n    setDropdownOpen(index){\r\n        var newdropdownOpen = this.state.dropdownOpen;\r\n        newdropdownOpen[index] = !newdropdownOpen[index];\r\n        this.setState({dropdownOpen: newdropdownOpen});\r\n    }\r\n\r\n    setDropDownTitle(attribute, selection){\r\n        var newDropDownSelections = this.state.dropDownSelections;\r\n        newDropDownSelections[attribute] = selection;\r\n        this.setState({dropDownSelections: newDropDownSelections});\r\n        if(selection === \"None\"){\r\n            selection = \"\";\r\n        }\r\n        if(attribute === \"committee\")\r\n            this.handleFilterCommittee(selection);\r\n        else if(attribute === \"year\")\r\n            this.handleFilterYear(selection);\r\n    }\r\n\r\n    renderSortAndFilter(){\r\n      return(\r\n        <div>\r\n           <div className=\"text-left\">\r\n                <ButtonGroup>\r\n                    <Dropdown isOpen={this.state.dropdownOpen[0]} toggle={() => this.setDropdownOpen(0)}>\r\n                        <DropdownToggle caret>\r\n                            Filter by Committee: {this.state.dropDownSelections[\"committee\"]}\r\n                        </DropdownToggle>\r\n                        <DropdownMenu\r\n                            modifiers={{\r\n                              setMaxHeight: {\r\n                                enabled: true,\r\n                                order: 890,\r\n                                fn: (data) => {\r\n                                  return {\r\n                                    ...data,\r\n                                    styles: {\r\n                                      ...data.styles,\r\n                                      overflow: 'auto',\r\n                                      maxHeight: 150,\r\n                                    },\r\n                                  };\r\n                                },\r\n                              },\r\n                            }}\r\n                        >\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"None\")}>None</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Agriculture\")}>Agriculture</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Appropriations\")}>Appropriations</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Armed Services\")}>Armed Services</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Budget\")}>Budget</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Banking\")}>Banking</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Education\")}>Education</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Energy\")}>Energy</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Ethics\")}>Ethics</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Financial Services\")}>Financial Services</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Foreign\")}>Foreign</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Homeland Security\")}>Homeland Security</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Administration\")}>Administration</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Judiciary\")}>Judiciary</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Natural Resources\")}>Natural Resources</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Oversight and Reform\")}>Oversight and Reform</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Rules\")}>Rules</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Administration\")}>Administration</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Science\")}>Science</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Small Business\")}>Small Business</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Transportation\")}>Transportation</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Veterans' Affairs\")}>Veterans' Affairs</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Ways and Means\")}>Ways and Means</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Judiciary\")}>Judiciary</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"committee\", \"Natural Resources\")}>Natural Resources</DropdownItem>\r\n                        </DropdownMenu>{' '}\r\n                    </Dropdown>\r\n                    <Dropdown isOpen={this.state.dropdownOpen[1]} toggle={() => this.setDropdownOpen(1)}>\r\n                        <DropdownToggle caret>\r\n                            Filter by Year: {this.state.dropDownSelections[\"year\"]}\r\n                        </DropdownToggle>\r\n                        <DropdownMenu\r\n                          modifiers={{\r\n                              setMaxHeight: {\r\n                                enabled: true,\r\n                                order: 890,\r\n                                fn: (data) => {\r\n                                  return {\r\n                                    ...data,\r\n                                    styles: {\r\n                                      ...data.styles,\r\n                                      overflow: 'auto',\r\n                                      maxHeight: 150,\r\n                                    },\r\n                                  };\r\n                                },\r\n                              },\r\n                            }}\r\n                        >\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"None\")}>None</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"1993\")}>1993</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"1994\")}>1994</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"1995\")}>1995</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"1996\")}>1996</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"1997\")}>1997</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"1998\")}>1998</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"1999\")}>1999</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2000\")}>2000</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2001\")}>2001</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2002\")}>2002</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2003\")}>2003</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2004\")}>2004</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2005\")}>2005</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2006\")}>2006</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2007\")}>2007</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2008\")}>2008</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2009\")}>2009</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2010\")}>2010</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2011\")}>2011</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2012\")}>2012</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2013\")}>2013</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2014\")}>2014</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2015\")}>2015</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2017\")}>2017</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2018\")}>2018</DropdownItem>\r\n                            <DropdownItem onClick={() => this.setDropDownTitle(\"year\", \"2019\")}>2019</DropdownItem>\r\n                        </DropdownMenu>{' '}\r\n                    </Dropdown>\r\n                    <Button onClick={() => this.handleReset()}>Reset</Button>{' '}\r\n                </ButtonGroup>\r\n            </div>\r\n            <div className=\"text-right\">\r\n                <Button color=\"primary\" onClick={() => this.handleSorting(\"asc\")}>Ascending</Button>{' '}\r\n                <Button color=\"secondary\"onClick={() => this.handleSorting(\"desc\")}>Descending</Button>{' '}\r\n            </div>   \r\n        </div>\r\n      );\r\n    }  \r\n\r\n\r\n    render() {\r\n        const {items, isLoading} = this.state;\r\n        console.log(isLoading)\r\n        if (isLoading){\r\n            console.log(isLoading)\r\n            return false;\r\n        }\r\n        \r\n        console.log(items)   \r\n        \r\n      return (\r\n        <div>\r\n            <div>\r\n                {this.renderSortAndFilter()}\r\n            </div>\r\n        <div className=\"EnergyBills\" style={{paddingTop: \"2%\",width:\"100%\", height:\"60%\"}}>\r\n          <Form className=\"searchbox\" onSubmit={this.handleSubmit}>\r\n                <FormGroup row>\r\n              \r\n                <Col sm={{ size: 'auto', offset: 5 }}>\r\n                    <Input\r\n                    type=\"text\"\r\n                    placeholder=\"Search\"\r\n                    onChange={this.handleTermChange}\r\n                    onKeyDown={this.handleEnter}\r\n                    />\r\n                </Col>\r\n                </FormGroup>\r\n\r\n                </Form>\r\n           <div>\r\n            <h4>Energy Bills</h4>\r\n            <Col sm={{ size: 'auto'}} style={{paddingTop: \"2%\"}}>\r\n            <Table hover responsive>\r\n                <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>Title</th>\r\n                    <th>Sponsor</th>\r\n                    <th>Committees</th>\r\n                    <th>Introduced Date</th>\r\n                    <th>House Passage</th>\r\n                    <th>Senate Passage</th>\r\n                    <th>Democrat Cosponsors</th>\r\n                    <th>Republican Cosponsors</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n                {items.map(item =>\r\n\r\n                <tr>\r\n                    <th scope=\"row\"></th>\r\n                    <td> <a href= {\"/bill/\" + item.bill_id}   to={\"/bill/\" + item.bill_id}><Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.title}/></a></td>\r\n                    <td> <a href= {\"/politician/\" + item.sponsor_id}   to={\"/politician/\" + item.sponsor_id}><Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + this.getName(item.sponsor_rs)}/></a></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.committees}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.introduced_date}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.house_passage}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.senate_passage}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.cosponsors_by_party_D}/></td>\r\n                    <td> <Highlighter\r\n                                highlightClassName=\"HighlightClass\"\r\n                                searchWords={this.state.input.split(\" \")}\r\n                                autoEscape={true}\r\n                                textToHighlight={\"\" + item.cosponsors_by_party_R}/></td>\r\n                </tr>\r\n                )}\r\n                </tbody>\r\n            </Table>\r\n                </Col>\r\n            </div>\r\n        <div>\r\n\t\t\t<MyPagination \r\n\t\t\t\tpages = {this.state.pages} \r\n\t\t\t\thandlePageClick = {this.handlePageClick}\r\n\t\t\t\tnextpage = {this.state.nextpage} \r\n\t\t\t\tlastpage = {this.state.lastpage}\r\n\t\t\t\tpage = {this.state.page}/> \r\n        </div>\r\n        </div>\r\n    </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default EnergyBills;"]},"metadata":{},"sourceType":"module"}